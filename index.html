<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staged AI Boundaries - Assignment Case Studies</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
    <link rel="stylesheet" href="styles.css?v=16">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
const { useState, useRef } = React;

// ============================================================================
// RESOURCE CONTENT DATA
// ============================================================================

const resourceContent = {
    talking: `### Syllabus Language Template

**Section: AI Use Policy**

This course recognizes AI tools as part of the contemporary learning landscape. Rather than blanket permission or prohibition, assignments in this course use **staged AI boundaries** that specify when and how AI can support your learning.

**Three types of AI boundaries you'll encounter:**

**üö´ No AI stages**: Some work must come entirely from your own observation, reading, creation, or experience. AI cannot reconstruct, enhance, or generate this foundational work. These stages protect the authenticity of <em>primary engagement</em>.

**ü§ù AI as Co-Intelligence stages**: AI as co-intelligence (a thinking partner that tests and refines your ideas). After forming your own analysis, you may use AI to test interpretations, surface blind spots, or refine arguments. AI helps you think more rigorously but cannot replace your thinking. Specific productive and unproductive uses will be defined for each assignment.

**üõ†Ô∏è AI as Tool stages**: AI may be required for visualization, design, or communication tasks. You maintain authorship of ideas while using AI for implementation.

**Your responsibility**: Follow the AI boundaries specified for each assignment stage. Violating these boundaries is an academic integrity issue, not because AI use is inherently wrong, but because it circumvents the learning the assignment is designed to produce.

---

### First Day of Class Framing

**What to say**:

"I know many of you have strong feelings about AI‚Äîsome of you love using it, some are skeptical, some are confused about what's allowed. Here's my approach: I'm not interested in blanket rules because AI isn't one thing. It can be genuinely helpful for some tasks and genuinely harmful for others.

In this class, every assignment will tell you exactly when you can and can't use AI, and more importantly, **why**. The 'why' matters because I want you to develop judgment about when AI enhances your thinking versus when it replaces it.

Here's the pattern you'll see: First, I'll ask you to do something that requires your direct experience or observation‚ÄîAI can't do this for you because it wasn't there. Then, after you've formed your own interpretation, you can use AI as a thinking partner to test and refine your ideas. Finally, you might use AI as a communication tool.

If you ever wonder why a specific AI boundary exists, ask me. I can explain the pedagogical reasoning, and if you disagree, we can talk about it. But following these boundaries isn't optional‚Äîit's how the learning happens."

---

### Responding to Common Student Questions

**Student: "Why can't I use AI in Stage 1? It would make my writing better."**

**Faculty response**: "I understand the impulse, but if AI 'improves' Stage 1, you lose what makes your work worth analyzing in Stage 2. You're not avoiding AI because it's bad; you're avoiding it because you need authentic primary material to work with.

Here's why: AI would smooth over the specific, messy, sometimes awkward details that make your observation valuable. Those rough edges‚Äîmoments of confusion, surprising details you noticed, things that didn't fit your expectations‚Äîthat's the raw material for genuine analysis."

---

**Student: "How will you know if I used AI when I wasn't supposed to?"**

**Faculty response**: "Here's what matters most: if you use AI in Stage 1, you won't have genuine material to work with in Stage 2. The assignment won't work for you.

Here's why: You'll struggle to write Stage 2 because you'll be trying to analyze something you didn't actually observe or experience. The constraint isn't there to catch cheaters‚Äîit's there because without it, you can't do the intellectual work the assignment requires. Sometimes it's obvious‚ÄîAI has tells, like unnaturally polished writing disconnected from specific details, or analysis that could apply to anything rather than your specific situation."`,

    workarounds: `### Workaround 1: Using AI to "Remember" What They Observed

**What it looks like**: Student observes an organizational meeting but doesn't take detailed notes. Later, they describe the meeting to ChatGPT and ask it to "help reconstruct" what happened or "fill in details I might have missed."

**Why students do this**: They didn't realize they needed to document thoroughly during the observation, or they think AI is just helping them "remember better."

**The harm**: AI doesn't reconstruct memory‚Äîit generates plausible content based on patterns. The student ends up with AI-generated organizational behavior that sounds realistic but didn't actually happen. They lose their specific, authentic observation.

**How to address it**: **Prevention**: In Stage 1 instructions, be explicit: "Take detailed notes during your observation. You cannot use AI later to reconstruct or fill in details you didn't document. If you missed something, acknowledge the gap rather than inventing content."

---

### Workaround 2: Asking AI to Analyze Stage 1 Content Before Forming Their Own Interpretation

**What it looks like**: Student completes Stage 1 authentically, then immediately pastes it into ChatGPT and asks: "Analyze this organizational meeting using concepts from *[Same As Ever](https://www.goodreads.com/book/show/125116554-same-as-ever)*" or "What themes emerge from this field observation?"

**Why students do this**: They're overwhelmed by the open-ended nature of interpretation and want guidance on "what it means" before committing to an interpretation.

**The harm**: The student skips the most important cognitive work‚Äîwrestling with their observations to form their own interpretation. They end up defending AI's interpretation rather than developing their own analytical thinking.

---

### General Prevention Strategy

**Build in a mid-point check-in**: After Stage 1 is complete but before Stage 2 begins, have a brief conference, peer review, or online check-in where students share their observations. This creates accountability and lets you catch problems early.

**Make the "why" visible**: Students are less likely to circumvent boundaries they understand. Regularly explain why each constraint exists and what learning it protects.

**Create a revision path**: If students realize they violated boundaries, let them revise with a minor penalty. This reduces the incentive to lie and creates a learning opportunity.`,

    adapting: `### Laboratory Reports (Sciences)

**Stage 1: Experimental Work (No AI)** - Students conduct experiments, record observations, collect data. AI cannot generate hypothetical results, "clean up" messy data, or simulate experiments not performed.

**Stage 2: Analysis and Interpretation (AI as Co-Intelligence)** - Students analyze data, identify patterns, connect findings to theory. AI can help with statistical interpretation, suggesting alternative explanations for results, or identifying confounding variables.

**Stage 3: Implications and Further Research (AI as Co-Intelligence)** - Students propose follow-up experiments or explain real-world applications. AI can help identify relevant literature or refine experimental design proposals.

---

### Problem Sets (Mathematics, Physics, Engineering)

**Stage 1: Individual Problem Solving (No AI)** - Students attempt problems using course concepts. AI cannot solve problems, check work, or suggest approaches.

**Stage 2: Solution Refinement (AI as Co-Intelligence)** - After attempting problems independently, students can use AI to check their approach (not their answer), identify conceptual errors, or understand why a method failed.

**Stage 3: Concept Application (AI as Tool)** - Students create new problems or explain concepts to others. AI can help generate visualizations or check that their created problems are solvable.

---

### General Adaptation Principles

1. **Identify the core learning objective**: What skill or thinking do you most want students to develop? Protect that with Stage 1 constraints.

2. **Recognize where AI genuinely helps**: Once students have formed their own thinking, AI can strengthen it through critique, refinement, or helping identify gaps.

3. **Allow AI for implementation**: If the learning goal is insight (not technical execution), AI can support the communication or implementation of that insight.`,

    assessment: `### Stage 1: Authentic Primary Work

**Excellent** - Work demonstrates direct, unmediated engagement with source material. Includes specific, concrete details that could only come from personal observation/experience. Shows evidence of authentic noticing‚Äîincluding surprising, confusing, or unexpected elements.

**Proficient** - Work shows genuine engagement with source material. Includes specific details, though may occasionally slip into generalizations. Mostly captures authentic observation with minimal AI-enhanced smoothing.

**Developing** - Work contains mix of authentic observation and generic or theoretical description. Lacks specific concrete details; could describe many similar situations. May be overly polished for Stage 1 documentation.

**Needs Revision** - Work appears to be AI-generated hypothetical scenario rather than authentic observation. Contains only generic details that could apply to any situation.

---

### Stage 2: Conceptual Interpretation with AI Co-Intelligence

**Excellent** - Interpretation is clearly grounded in specific Stage 1 observations. Analysis reveals original thinking that connects observations to concepts in novel ways. Shows evidence of using AI to stress-test interpretation. Co-Intelligence Appendix shows sophisticated understanding of where AI helped vs. where human judgment was essential.

**Proficient** - Interpretation connects Stage 1 observations to conceptual frameworks appropriately. Shows some original analytical thinking with AI support. Makes reasonable claims supported by evidence.

**Developing** - Interpretation feels somewhat disconnected from specific Stage 1 observations. Analysis may rely heavily on AI-generated insights with insufficient student development.

**Needs Revision** - Interpretation appears to be AI-generated from Stage 1 content with minimal student contribution. Generic analysis that could apply to any situation, not grounded in student's specific observations.`
};

// ============================================================================
// SIMPLE MARKDOWN FORMATTER COMPONENT
// ============================================================================

function FormattedContent({ content }) {
    const lines = content.split('\n');
    const elements = [];
    let currentParagraph = [];
    let listItems = [];

    const flushParagraph = () => {
        if (currentParagraph.length > 0) {
            const text = currentParagraph.join(' ');
            elements.push(<p key={elements.length} dangerouslySetInnerHTML={{ __html: formatInline(text) }} />);
            currentParagraph = [];
        }
    };

    const flushList = () => {
        if (listItems.length > 0) {
            elements.push(
                <ul key={elements.length}>
                    {listItems.map((item, i) => (
                        <li key={i} dangerouslySetInnerHTML={{ __html: formatInline(item) }} />
                    ))}
                </ul>
            );
            listItems = [];
        }
    };

    const formatInline = (text) => {
        return text
            .replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>')
            .replace(/\*([^*]+)\*/g, '<em>$1</em>');
    };

    lines.forEach((line, index) => {
        const trimmed = line.trim();

        if (trimmed.startsWith('### ')) {
            flushParagraph();
            flushList();
            elements.push(<h3 key={elements.length}>{trimmed.substring(4)}</h3>);
        } else if (trimmed.startsWith('---')) {
            flushParagraph();
            flushList();
            elements.push(<hr key={elements.length} />);
        } else if (trimmed.startsWith('- ') || trimmed.startsWith('* ')) {
            flushParagraph();
            listItems.push(trimmed.substring(2));
        } else if (trimmed === '') {
            flushParagraph();
            flushList();
        } else {
            if (listItems.length > 0) {
                flushList();
            }
            currentParagraph.push(trimmed);
        }
    });

    flushParagraph();
    flushList();

    return <div>{elements}</div>;
}

function scrollToSection(sectionId) {
    const element = document.getElementById(sectionId);
    if (element) {
        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
}

// ============================================================================
// HEADER COMPONENT
// ============================================================================

function Header() {
    return (
        <header>
            <div className="container">
                <div className="header-content">
                    <div className="logo">
                        <a href="https://www.wlu.edu/harte-center">
                            <img src="Harte Center Logo 2022 - WHITE-HORIZONTAL.png" alt="Harte Center for Teaching and Learning" style={{height: '40px', display: 'block'}} />
                        </a>
                    </div>
                    <nav>
                        <a href="#framework" onClick={(e) => { e.preventDefault(); scrollToSection('framework'); }}>
                            The Framework
                        </a>
                        <a href="#examples" onClick={(e) => { e.preventDefault(); scrollToSection('examples'); }}>
                            Examples
                        </a>
                        <a href="#designer" onClick={(e) => { e.preventDefault(); scrollToSection('designer'); }}>
                            Build Your Assignment
                        </a>
                        <a href="#resources" onClick={(e) => { e.preventDefault(); scrollToSection('resources'); }}>
                            Resources
                        </a>
                    </nav>
                </div>
            </div>
        </header>
    );
}

// ============================================================================
// HERO SECTION
// ============================================================================

function Hero() {
    return (
        <section className="hero">
            <div className="container">
                <h1>Teaching with AI Boundaries:<br/>A Framework for Meaningful Learning</h1>
                <p className="subheadline">
                    Discover how to design assignments that protect authentic student thinking while
                    leveraging AI where it genuinely enhances learning.
                </p>
                <p>
                    This framework, developed by <a href="https://www.wlu.edu/profile/schatten-jeffrey" target="_blank" rel="noopener noreferrer">Jeff Schatten</a>, Associate Professor of Business Administration, shows how to structure assignments with intentional AI boundaries.
                </p>
                <p>
                    The pattern works across disciplines because it honors what makes human thinking irreplaceable‚Äî<em>direct observation</em>, <em>creative discovery</em>, <em>primary engagement</em>‚Äîwhile using AI strategically to deepen analysis and
                    strengthen communication.
                </p>
            </div>
        </section>
    );
}

// ============================================================================
// THREE-STAGE PATTERN SECTION
// ============================================================================

function ThreeStagePattern() {
    return (
        <section id="framework">
            <div className="container">
                <h2>The Three-Stage Framework: No AI, AI Allowed, Must Use AI</h2>

                <div className="pattern-cards">
                    <div className="pattern-card">
                        <div className="badge-left">üö´</div>
                        <div className="pattern-card-content">
                            <h3>Stage 1: Primary Experience</h3>
                            <p>
                                Students engage directly with source material through observation, reading, fieldwork,
                                or making. AI cannot reconstruct, embellish, or generate this foundational work.
                            </p>
                            <div className="why-matters">
                                <strong>Why it matters:</strong> Authentic perception and direct engagement build the
                                raw material for analysis. Without this, students have nothing genuine to interpret.
                            </div>
                        </div>
                    </div>

                    <div className="pattern-card">
                        <div className="badge-left">ü§ù</div>
                        <div className="pattern-card-content">
                            <h3>Stage 2: Conceptual Interpretation</h3>
                            <p>
                                Students develop analysis using disciplinary frameworks, with AI testing interpretations,
                                surfacing blind spots, and refining arguments they've already formed.
                            </p>
                            <div className="why-matters">
                                <strong>Why it matters:</strong> AI helps students think more rigorously about their
                                primary work, but can't replace the interpretive judgment that comes from wrestling
                                with ideas.
                            </div>
                        </div>
                    </div>

                    <div className="pattern-card">
                        <div className="badge-left">üõ†Ô∏è</div>
                        <div className="pattern-card-content">
                            <h3>Stage 3: Application & Communication</h3>
                            <p>
                                Students apply insights to future scenarios or create visual syntheses, using AI as
                                a design partner or communication tool.
                            </p>
                            <div className="why-matters">
                                <strong>Why it matters:</strong> Students demonstrate understanding through practical
                                application, with AI supporting implementation rather than replacing insight.
                            </div>
                        </div>
                    </div>
                </div>

                <div className="button-group">
                    <button onClick={() => scrollToSection('examples')}>
                        Explore Examples Across Disciplines
                    </button>
                    <button className="secondary" onClick={() => scrollToSection('designer')}>
                        Design Your Own Assignment
                    </button>
                </div>
            </div>
        </section>
    );
}

// ============================================================================
// ACCORDION COMPONENT
// ============================================================================

function Accordion({ title, badge, children, defaultOpen = false }) {
    const [isOpen, setIsOpen] = useState(defaultOpen);

    return (
        <div className="accordion">
            <div className="accordion-header" onClick={() => setIsOpen(!isOpen)}>
                <div className="accordion-title">
                    <div className="stage-badge">{badge}</div>
                    <h3>{title}</h3>
                </div>
                <span className={`accordion-icon ${isOpen ? 'open' : ''}`}>‚ñº</span>
            </div>
            <div className={`accordion-content ${isOpen ? 'open' : ''}`}>
                {children}
            </div>
        </div>
    );
}

// ============================================================================
// PEDAGOGY PANEL COMPONENT
// ============================================================================

function PedagogyPanel({ children }) {
    return (
        <div className="accordion-panel panel-pedagogy">
            <div className="pedagogy-content">
                {children}
            </div>
        </div>
    );
}

// ============================================================================
// BUSINESS CASE STUDY COMPONENT
// ============================================================================

function BusinessCaseStudy() {
    return (
        <div>
            <div className="assignment-overview">
                <div className="overview-section">
                    <h4>What students create</h4>
                    <p>
                        An organizational analysis paper examining how a student organization functions under uncertainty,
                        anchored in one personally observed high-stakes moment and interpreted using concepts from Morgan
                        Housel's <a href="https://www.goodreads.com/book/show/125116554-same-as-ever" target="_blank" rel="noopener noreferrer"><em>Same As Ever</em></a>.
                    </p>

                    <h4>Why this assignment matters</h4>
                    <p>
                        Students learn to distinguish between human behavior they can observe and theories they impose.
                        By starting from authentic observation before interpretation, they develop the foundational skill
                        of evidence-based reasoning‚Äîseeing what's actually there before explaining it.
                    </p>
                </div>
            </div>

            <div className="stages-container">
            <Accordion title="Observe an Organization in Action (No AI)" badge="Stage 1" defaultOpen={true}>
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to watch closely without jumping to conclusions</li>
                            <li>The difference between description and interpretation</li>
                            <li>How to notice patterns in real organizational behavior</li>
                        </ul>

                        <h4>AI Permissions: None. Zero. Not Happening.</h4>
                        <p>
                            This stage is about developing your own observational instincts. AI can't watch the world
                            for you, and you can't build analytical skills on someone else's observations. You need
                            this unfiltered foundation for everything that comes next.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Pick an organization you can actually observe. Not one you read about‚Äîone you can watch
                            in action. Could be your workplace, a sports team, a student organization, a family business,
                            even your friend group planning something complicated.
                        </p>
                        <p>
                            Now watch. How do people actually work together? Who talks to whom? Where do decisions get
                            made? What happens when there's conflict or confusion?
                        </p>
                        <p>
                            Write 500-750 words describing exactly what you see. No analysis yet‚Äîthat's Stage 2. Right now, just capture the reality in front
                            of you.
                        </p>

                        <h4>What Students Have Analyzed</h4>
                        <ul>
                            <li>A golfer breaking down their own swing mechanics and practice habits</li>
                            <li>Communication patterns between doctors and patients in a physical therapy clinic</li>
                            <li>How a private equity team makes investment decisions under pressure</li>
                            <li>The way students really plan their schedules (versus how they think they do it)</li>
                        </ul>
                    </div>

                    <PedagogyPanel>
                        <div style={{fontSize: '1.1rem', fontWeight: '600', textTransform: 'uppercase', letterSpacing: '0.5px', color: 'var(--wl-gray)', marginBottom: '0.75rem'}}>
                            Jeff's Reflections
                        </div>
                        <p>
                            <strong>WHY NO AI HERE?</strong>
                        </p>
                        <blockquote className="instructor-quote">
                            It's a hybrid assignment so only the first part is no-AI. Students need unmediated access to their own observations before applying any frameworks. If I allow AI to reconstruct events or enhance descriptions, the authenticity of what they noticed is lost. The objective is to preserve their specific vantage point as someone physically present in the room.
                        </blockquote>

                        <p>
                            <strong>WHAT WOULD BREAK?</strong>
                        </p>
                        <blockquote className="instructor-quote">
                            Using AI here shifts the focus from describing what happened to describing what should have happened based on organizational theory. Models tend to smooth over the messy or contradictory details that make the observation valuable. Without the raw, unpolished material of human perception, the analysis loses its grounding in reality.
                        </blockquote>

                        <p>
                            <strong>WHAT SURPRISES EMERGED?</strong>
                        </p>
                        <blockquote className="instructor-quote">
                            The result was less a surprise and more a confirmation. Stripping AI from first-hand observation predictably preserved the authenticity of the voice.
                        </blockquote>

                        <p>
                            <strong>Disciplinary connection:</strong> In business and organizational analysis, the ability to observe workplace dynamics without immediately jumping to explanation is foundational. Executives and consultants must learn to see what's actually happening in an organization before imposing frameworks. This mirrors ethnographic research methods where observation precedes interpretation.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Analyze Your Observations Using Housel's Framework (AI as Co-Intelligence)" badge="Stage 2">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How theoretical frameworks reveal hidden patterns in your observations</li>
                            <li>How to use AI as a thinking partner (not a shortcut)</li>
                            <li>How to test ideas against evidence you've already gathered</li>
                            <li>When to trust AI and when to push back</li>
                        </ul>

                        <h4>AI Permissions: Welcome to Co-Intelligence</h4>
                        <p>
                            Now AI enters as a collaborator. Use it to explore Morgan Housel's ideas about organizations,
                            human behavior, and decision-making. Ask it to help connect theory to your specific observations.
                            Test interpretations. Play devil's advocate.
                        </p>
                        <p><strong>But here's the deal:</strong></p>
                        <ul>
                            <li>Document every conversation with AI in your Co-Intelligence Appendix</li>
                            <li>Show your prompts and explain how AI's responses shaped your thinking</li>
                            <li>Push back when AI misses something you saw in your observations</li>
                        </ul>

                        <h4>The Assignment</h4>
                        <p>
                            Go back to what you observed in Stage 1. Now apply Morgan Housel's framework‚Äîhis ideas about
                            why people make the decisions they do, how organizations actually work versus how we think
                            they work, and why smart people do seemingly irrational things.
                        </p>
                        <p>
                            Use AI as your research assistant and thought partner. Ask it: "How would Housel explain this
                            pattern I noticed?" or "What am I missing in my interpretation?" Treat it like a really
                            well-read colleague who helps you think, not one who thinks for you.
                        </p>
                        <p>
                            Write 750-1000 words connecting Housel's concepts to your observations. Ground every theoretical
                            point in specific details you witnessed. Include your Co-Intelligence Appendix showing how you
                            worked with AI.
                        </p>
                    </div>

                    <PedagogyPanel>
                        <div style={{fontSize: '0.8rem', fontWeight: '600', textTransform: 'uppercase', letterSpacing: '0.5px', color: 'var(--wl-gray)', marginBottom: '0.75rem'}}>
                            Illustrative example
                        </div>
                        <p>
                            <strong>Why allow AI as co-intelligence here?</strong> An instructor might introduce AI at this stage because students have now formed their own interpretation based on what they observed. AI can help them think more rigorously about that interpretation‚Äîproposing alternative explanations, checking logical consistency, surfacing factors they might be missing. This is when AI functions as a critical thinking partner, pushing students to defend or refine claims they've already made.
                        </p>

                        <p>
                            <strong>What's the boundary?</strong> The crucial distinction is that students must have formed an interpretation before engaging AI. They can't paste their Stage 1 observations and ask AI to analyze using the framework. That outsources the interpretive work. Instead, students develop their analysis first, then use AI to stress-test it: "I think this reveals short-term thinking, but what if I'm wrong? What alternative explanations might fit?"
                        </p>

                        <p>
                            <strong>What would break?</strong> If students skip forming their own interpretation and go straight to AI, they get generic organizational analysis that could apply to any situation. The insight that comes from their specific observation gets lost. AI is good at pattern-matching to theory, but it can't know what was meaningful about what they witnessed unless they've already done that interpretive work.
                        </p>

                        <p>
                            <strong>What surprises might emerge?</strong> Students often report that AI helps them see gaps in their logic or consider factors they hadn't weighted properly. One productive approach: having students ask AI to argue <em>against</em> their interpretation ("Convince me I'm wrong about this being about risk aversion"). This forces them to either strengthen their case or recognize they need to revise their thinking.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> In business analysis, having one's reasoning challenged is normal‚Äîby colleagues, clients, or data that doesn't fit the model. Learning to use AI as a "smart skeptic" can prepare students for real-world analytical work where interpretations must withstand scrutiny.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Project Future Scenarios (AI Required for Visual Synthesis)" badge="Stage 3">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to synthesize observation and theory into forward-looking insights</li>
                            <li>How organizations might evolve (or fail to evolve)</li>
                            <li>How to communicate complex analysis visually</li>
                            <li>How AI image generation works as a thinking tool, not just decoration</li>
                        </ul>

                        <h4>AI Permissions: Full Partnership Mode</h4>
                        <p>
                            Keep using AI as your analytical partner, but now add visual thinking. Use Google Gemini to
                            create an infographic that captures your insights‚Äînot as an afterthought, but as another way
                            to work through your ideas.
                        </p>
                        <p><strong>What you'll submit:</strong></p>
                        <ul>
                            <li>Keep building your Co-Intelligence Appendix with all text-based AI work</li>
                            <li>Create one Gemini-generated infographic (the image itself becomes part of your argument)</li>
                            <li>Include the exact prompt you used to generate it</li>
                            <li>Explain why the visual matters‚Äîwhat does it reveal that words can't?</li>
                        </ul>

                        <h4>The Assignment</h4>
                        <p>
                            You've observed an organization closely (Stage 1) and analyzed it through Housel's lens
                            (Stage 2). Now look ahead: What challenges is this organization likely to face? What opportunities
                            might they miss? How could they navigate uncertainty more effectively?
                        </p>
                        <p>
                            Write 500-750 words exploring future scenarios. Then use Google Gemini to create a visual that
                            synthesizes your analysis‚Äîsomething that shows the organization's current patterns, the tensions
                            you identified, and the possible futures you see.
                        </p>
                        <p>Your complete submission:</p>
                        <ul>
                            <li>Your forward-looking analysis (500-750 words)</li>
                            <li>Your Gemini-generated infographic</li>
                            <li>The prompt you used to create it</li>
                            <li>A brief explanation (200 words): Why this visual? What does it capture that your written
                                analysis can't?</li>
                            <li>Your complete Co-Intelligence Appendix covering all AI use in Stages 2 and 3</li>
                        </ul>
                    </div>

                    <PedagogyPanel>
                        <div style={{fontSize: '0.8rem', fontWeight: '600', textTransform: 'uppercase', letterSpacing: '0.5px', color: 'var(--wl-gray)', marginBottom: '0.75rem'}}>
                            Illustrative example
                        </div>
                        <p><strong>Why this stage matters</strong></p>
                        <p>
                            This stage can demonstrate that analysis has practical implications. It's not enough to explain what happened‚Äîstudents need to show how understanding organizational dynamics leads to better design choices. This is where interpretation becomes actionable.
                        </p>

                        <p><strong>AI's role</strong></p>
                        <p>
                            An instructor might allow students to use AI similarly to Stage 2‚Äîtesting whether their recommendations actually address the dynamics they identified, considering implementation challenges, or refining the practical details of their proposals.
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            Business students must learn that understanding organizations isn't an academic exercise‚Äîit should inform how one designs systems, processes, and incentives. This stage can ensure analysis leads to application.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>
            </div>
        </div>
    );
}

// ============================================================================
// LITERATURE CASE STUDY COMPONENT
// ============================================================================

function LiteratureCaseStudy() {
    return (
        <div>
            <div className="assignment-overview">
                <div className="overview-section">
                    <h4>What students create</h4>
                    <p>
                        A literary analysis paper anchored in documented reading experience, connecting personal textual
                        encounter to theoretical interpretation and contemporary resonance.
                    </p>

                    <h4>Why this assignment matters</h4>
                    <p>
                        Students learn to distinguish between their authentic response to a text and critical frameworks
                        imposed afterward. By documenting their actual reading experience before encountering secondary
                        criticism, they develop the foundational skill of close reading‚Äînoticing what's on the page before
                        explaining what it means.
                    </p>
                </div>
            </div>

            <div className="stages-container">
            <Accordion title="Documented Reading Experience" badge="Stage 1" defaultOpen={true}>
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What to Document</h4>
                        <p>
                            Select a complete literary text (novel, play, long-form essay, poetry collection) and maintain
                            a reading journal documenting your authentic encounter with it.
                        </p>
                        <ul>
                            <li><strong>Specific passages</strong> that stopped you, confused you, delighted you, or shifted your
                                understanding (with page numbers and brief quotes)</li>
                            <li><strong>Your immediate reactions</strong> in the moment of reading‚Äîquestions that arose, predictions
                                you made, emotions you felt</li>
                            <li><strong>Pattern recognition</strong> across the text‚Äîrecurring images, structural choices, stylistic
                                shifts you noticed as you read</li>
                            <li><strong>One pivotal moment</strong> in your reading where your understanding of the text fundamentally
                                changed</li>
                        </ul>

                        <h4>AI Permissions: None</h4>
                        <p>
                            This must capture your unmediated response as a reader before encountering secondary criticism or
                            analysis. AI tools may not be used to generate, reconstruct, summarize, or analyze your reading
                            experience. The journal entries must reflect what you actually noticed while reading, not what AI
                            suggests you should have noticed.
                        </p>

                        <p><strong>Deliverable:</strong> 3-5 double-spaced pages (approximately 900-1500 words) of reading journal entries tracking your experience through the
                        text, culminating in documentation of the pivotal interpretive moment</p>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why no AI here?</strong> The reading journal captures something irreplaceable: the student's actual cognitive and emotional
                            journey through a text. This includes confusion, misinterpretation, evolving understanding‚Äîthe messy
                            reality of meaning-making that happens when a real reader encounters language on the page. AI can't
                            reconstruct this because it never experienced the reading.
                        </p>

                        <p>
                            <strong>What would break?</strong> If students use AI to "improve" their journal entries or "identify important passages," they lose
                            the authenticity of discovery. AI would direct them toward conventional interpretations or canonical
                            "important moments," erasing the unique patterns they noticed organically. The goal is to preserve
                            their genuine encounter with the text.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> Literary scholars and critics must develop the capacity for sustained, attentive reading before
                            applying theory. The practice of close reading‚Äînoticing diction, syntax, imagery, form‚Äîprecedes
                            interpretation. This mirrors how professional literary criticism works: primary textual engagement
                            before secondary scholarship.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Theoretical Interpretation" badge="Stage 2">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>The Assignment</h4>
                        <p>
                            Develop a literary argument by applying one critical framework or theoretical lens to interpret your
                            documented reading experience. You must explain what your pivotal moment reveals about how the text
                            creates meaning‚Äîthrough narrative structure, symbolic patterns, historical context, linguistic choices,
                            genre conventions, or reader positioning.
                        </p>
                        <p>
                            Select the critical approach that best illuminates your reading experience rather than surveying
                            multiple frameworks superficially. Strong interpretation moves beyond description to explain why the
                            text makes the literary choices it does and what effects those choices produce.
                        </p>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p><strong>Productive AI uses:</strong></p>
                        <ul>
                            <li>Stress-testing interpretive claims by asking AI to propose alternative readings of the same textual
                                evidence</li>
                            <li>Surfacing contextual information you might be missing (historical period, literary movements,
                                biographical context)</li>
                            <li>Checking whether your argument actually explains the textual patterns you documented or just
                                restates them</li>
                            <li>Clarifying and sharpening claims once you've formed your interpretation</li>
                        </ul>

                        <p><strong>Unproductive AI uses</strong> (do not do these):</p>
                        <ul>
                            <li>Asking AI to generate the interpretation from your journal entries</li>
                            <li>Using AI to identify themes or patterns without your own textual analysis</li>
                            <li>Having AI select which critical framework applies to your text</li>
                            <li>Asking AI to explain symbolism or meaning without reference to your specific reading experience</li>
                        </ul>

                        <p><strong>Deliverable:</strong> 4-5 double-spaced pages (approximately 1200-1500 words) of analytical writing connecting your documented reading
                        experience to a theoretical interpretation of how the text functions</p>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why allow AI as co-intelligence here?</strong> Students have now formed an interpretation grounded in their actual reading experience. AI can help
                            them test that interpretation against alternative readings, fill in contextual knowledge gaps, or refine
                            the precision of their claims. This is particularly valuable in literary studies where multiple valid
                            interpretations exist‚ÄîAI can propose alternatives that push students to defend or revise their thinking.
                        </p>

                        <p>
                            <strong>What's the boundary?</strong> Students must have developed their interpretive framework based on close reading before engaging AI.
                            They can't input passages from the text and ask "what does this symbolize?" That bypasses the interpretive
                            work. Instead, students propose an interpretation first, then use AI to challenge it.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> Literary interpretation requires defending readings against competing explanations. Learning to anticipate
                            counterarguments and strengthen claims with precise textual evidence is central to literary scholarship.
                            AI as critical interlocutor prepares students for academic discourse.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Contemporary Resonance" badge="Stage 3">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>The Assignment</h4>
                        <p>
                            Connect your literary analysis to contemporary cultural conversations. The goal is to show how your close
                            reading and theoretical interpretation illuminate current debates, social questions, or artistic practices‚Äîdemonstrating
                            that literary study has stakes beyond the classroom.
                        </p>
                        <p>
                            This is not about finding "modern parallels" or forced relevance. Instead, ask: What does this text help
                            us understand about how language, narrative, or representation works in contexts that matter now?
                        </p>
                        <p>
                            How does your specific reading offer insight into contemporary questions about power, identity, communication, or
                            meaning-making?
                        </p>
                        <p>
                            Your contemporary connection must emerge from your Stage 2 interpretation‚Äînot replace it.
                        </p>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p><strong>AI may be used to:</strong></p>
                        <ul>
                            <li>Identify contemporary cultural moments or debates where your literary insights apply</li>
                            <li>Test whether your connection is substantive or superficial</li>
                            <li>Surface recent scholarship linking this text to current issues</li>
                            <li>Refine how you articulate the connection for readers unfamiliar with literary theory</li>
                        </ul>

                        <p><strong>Deliverable:</strong> 2-3 double-spaced pages (approximately 600-900 words) connecting your literary analysis to contemporary cultural
                        relevance, demonstrating why your reading matters beyond the text itself</p>
                    </div>

                    <PedagogyPanel>
                        <p><strong>Why this stage matters</strong></p>
                        <p>
                            Students must demonstrate that literary analysis isn't an isolated academic exercise‚Äîit's a way of
                            understanding how meaning, power, and representation function everywhere. This stage asks: What can your
                            careful reading of this specific text teach us about the world we live in now?
                        </p>

                        <p><strong>Student outcomes</strong></p>
                        <p>
                            Students report this is where their literary analysis starts to feel urgent rather than archival. The best
                            outcomes show genuine insight: "I noticed how this text uses ambiguity to resist easy interpretation, and
                            now I see that same strategy in contemporary political rhetoric‚Äîhere's why it matters that we understand
                            how that works."
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            Literary scholars don't study old texts because they're old‚Äîthey study them because close attention to how
                            language works reveals patterns that operate everywhere. This stage ensures students understand why literary
                            analysis is a form of cultural literacy, not historical curiosity.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>
            </div>
        </div>
    );
}

// ============================================================================
// ENVIRONMENTAL SCIENCE CASE STUDY COMPONENT
// ============================================================================

function EnvironmentalScienceCaseStudy() {
    return (
        <div>
            <div className="assignment-overview">
                <div className="overview-section">
                    <h4>What students create</h4>
                    <p>
                        An ecological field study documenting observed ecosystem dynamics, analyzing those observations
                        through ecological theory, and proposing evidence-based management interventions.
                    </p>

                    <h4>Why this assignment matters</h4>
                    <p>
                        Students learn to distinguish between what they directly observe in nature and the ecological
                        principles they use to explain it. By starting with documented field observations before applying
                        theory, they develop the foundational scientific skill of evidence-based reasoning‚Äîseeing what's
                        actually there before interpreting it.
                    </p>
                </div>
            </div>

            <div className="stages-container">
            <Accordion title="Field Documentation and Data Collection" badge="Stage 1" defaultOpen={true}>
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>The Assignment</h4>
                        <p>
                            Select a local ecosystem you can visit repeatedly (forest plot, stream, wetland, urban green
                            space, shoreline, or campus habitat). Conduct 4-6 field observation sessions across at least
                            two weeks, visiting at different times of day when possible.
                        </p>

                        <h4>What to document</h4>
                        <ul>
                            <li><strong>Species inventory:</strong> What organisms are present? (Plants, animals, fungi,
                                evidence of species you don't see directly)</li>
                            <li><strong>Interactions observed:</strong> Pollination, predation, competition, mutualism‚Äîany
                                interaction between organisms you personally witness</li>
                            <li><strong>Abiotic conditions:</strong> Weather, water flow, soil moisture, light conditions,
                                temperature, signs of disturbance</li>
                            <li><strong>Spatial patterns:</strong> Where do different species occur? What patterns do you
                                notice in distribution?</li>
                            <li><strong>Changes over time:</strong> What changes between your visits? Seasonal shifts,
                                weather impacts, new species appearing</li>
                            <li><strong>Photographic evidence:</strong> Document site conditions, species, and interactions
                                (photos must be your own)</li>
                        </ul>

                        <h4>AI Permissions: None</h4>
                        <p>
                            This must be your own <em>direct observation</em>. AI tools may not be used to:
                        </p>
                        <ul>
                            <li>Identify species from photos (use field guides or expert consultation instead)</li>
                            <li>Infer interactions you didn't witness ("probably" or "likely" scenarios)</li>
                            <li>Reconstruct missing data between visits</li>
                            <li>Suggest what "should" be present based on habitat type</li>
                        </ul>

                        <p><strong>Deliverable:</strong> Field journal with dated entries, species lists, interaction
                        observations, photographs, and documented abiotic conditions (4-5 double-spaced pages plus photos, approximately 1200-1500 words)</p>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why no AI here?</strong> Ecological field skills require students to observe natural systems without preconceptions about
                            what "should" be there. If students use AI to identify species from photos or suggest likely
                            interactions, they lose the authentic struggle of observation‚Äîlearning to distinguish a white oak
                            from a red oak, recognizing bird calls, noticing which insects visit which flowers. These
                            observational skills are foundational to ecological practice.
                        </p>

                        <p>
                            <strong>What would break?</strong> If students use AI-powered species identification apps or ask AI "what organisms are likely in
                            this habitat," they get correct answers without developing observational competence. They also miss
                            surprises‚Äîthe unexpected species, the interaction that doesn't fit typical patterns‚Äîwhich often
                            become the most interesting material for analysis.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> Ecologists must develop natural history knowledge through direct experience with organisms and
                            habitats. Reading about ecosystems is not the same as spending hours watching them function. This
                            mirrors how ecological research actually works‚Äîsustained observation in real systems before analysis
                            and interpretation.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Ecological Analysis and Interpretation" badge="Stage 2">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>The Assignment</h4>
                        <p>
                            Use ecological principles to explain the patterns and interactions you documented. Your analysis
                            should move from "what I observed" to "why the ecosystem functions this way."
                        </p>
                        <p>
                            Apply concepts such as: trophic relationships and energy flow, succession and disturbance ecology,
                            niche partitioning and resource competition, keystone species and ecological interactions, ecosystem
                            services and nutrient cycling, impacts of abiotic conditions on community structure.
                        </p>
                        <p>
                            Strong analysis explains causal mechanisms, not just labels. Ground every ecological principle in
                            specific observations from your field data.
                        </p>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p><strong>AI may be used to:</strong></p>
                        <ul>
                            <li>Stress-test your explanations by proposing alternative ecological mechanisms</li>
                            <li>Fill knowledge gaps about species ecology, life history, or habitat requirements</li>
                            <li>Check whether your causal reasoning actually explains the patterns you observed</li>
                            <li>Identify ecological concepts you might be underweighting</li>
                            <li>Find relevant research on similar ecosystems or species</li>
                        </ul>

                        <p><strong>Unproductive AI uses</strong> (do not do these):</p>
                        <ul>
                            <li>Asking AI to analyze your field notes and generate ecological interpretation</li>
                            <li>Having AI identify which ecological concepts apply without your own reasoning</li>
                            <li>Using AI to suggest interactions or patterns you didn't document</li>
                        </ul>

                        <p><strong>Deliverable:</strong> 4-5 double-spaced pages (approximately 1200-1500 words) of ecological analysis connecting your field observations
                        to ecological theory, with specific evidence from your documented data supporting each claim</p>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why allow AI as co-intelligence here?</strong> Students have now documented real ecosystem patterns through <em>direct observation</em>. AI can help them
                            think more rigorously about the ecological processes explaining those patterns‚Äîproposing alternative
                            mechanisms, surfacing species biology they might not know, or identifying research on similar systems.
                        </p>

                        <p>
                            <strong>What's the boundary?</strong> Students must form their own ecological interpretation based on their field data before engaging AI.
                            They can't input their field notes and ask "explain this ecosystem's ecology." That bypasses the
                            interpretive work.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> Ecological research involves proposing mechanisms, testing alternative hypotheses, and evaluating
                            evidence. Learning to use AI as a "skeptical ecologist" who questions your interpretations prepares
                            students for scientific discourse where explanations must withstand scrutiny from peer reviewers and
                            colleagues.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Management Recommendations" badge="Stage 3">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>The Assignment</h4>
                        <p>
                            Develop evidence-based recommendations for ecosystem management, restoration, or conservation based
                            on your ecological understanding from Stages 1 and 2.
                        </p>
                        <p>
                            Your recommendations should address realistic management goals and account for practical constraints
                            (budget, maintenance, public access, property ownership, regulatory requirements).
                        </p>
                        <p>
                            Recognize ecological complexity and uncertainty, and propose monitoring to evaluate whether interventions
                            achieve intended outcomes.
                        </p>
                        <p>
                            This is not about "fixing nature" but working with ecological processes. Strong recommendations
                            leverage existing ecosystem functions rather than fighting them.
                        </p>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p><strong>AI may be used to:</strong></p>
                        <ul>
                            <li>Identify management strategies used in similar ecosystems</li>
                            <li>Evaluate feasibility and costs of proposed interventions</li>
                            <li>Surface unintended consequences you might not have considered</li>
                            <li>Refine implementation details and monitoring protocols</li>
                        </ul>

                        <p><strong>Deliverable:</strong> 2-3 double-spaced pages (approximately 600-900 words) of site-specific management recommendations with ecological
                        justification, practical implementation details, and proposed monitoring approaches</p>
                    </div>

                    <PedagogyPanel>
                        <p><strong>Why this stage matters</strong></p>
                        <p>
                            Students must demonstrate that ecological understanding leads to informed action. It's not enough to
                            explain ecosystem function‚Äîthey need to show how that understanding guides management decisions. This
                            is where observation and analysis become applied ecology.
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            Applied ecologists and conservation practitioners must translate ecological knowledge into actionable
                            management strategies. Learning to develop site-specific, evidence-based recommendations prepares
                            students for careers where ecological understanding must inform real-world decisions about land use,
                            restoration, and conservation.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>
            </div>
        </div>
    );
}

// ============================================================================
// STUDIO ART CASE STUDY COMPONENT
// ============================================================================

function StudioArtCaseStudy() {
    return (
        <div>
            <div className="assignment-overview">
                <div className="overview-section">
                    <h4>What students create</h4>
                    <p>
                        An original artwork developed through sustained studio practice, accompanied by critical analysis
                        using art historical frameworks and an artist statement communicating intent to public audiences.
                    </p>

                    <h4>Why this assignment matters</h4>
                    <p>
                        Students learn to distinguish between the embodied thinking that happens through making and the
                        conceptual frameworks used to contextualize that work. By creating art before analyzing it through
                        theory, they develop authentic artistic practice‚Äîdiscovering ideas through process rather than
                        illustrating predetermined concepts.
                    </p>
                </div>
            </div>

            <div className="stages-container">
            <Accordion title="Studio Practice and Process Documentation" badge="Stage 1" defaultOpen={true}>
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>The Assignment</h4>
                        <p>
                            Create an original artwork using the medium and techniques we've been exploring in class. Your
                            work should emerge from sustained studio practice‚Äînot a single sitting, but multiple work sessions
                            where you observe, respond, revise, and discover through making.
                        </p>

                        <h4>Document your studio process</h4>
                        <ul>
                            <li><strong>Initial explorations:</strong> Sketches, tests, experiments with materials or approaches
                                (photograph these)</li>
                            <li><strong>Key decisions:</strong> What formal choices did you make and why? Color, composition,
                                mark-making, scale, materials</li>
                            <li><strong>Technical challenges:</strong> Where did the medium resist or surprise you? How did you
                                respond?</li>
                            <li><strong>Revisions and pivots:</strong> What changed as the work developed? What didn't work and
                                why?</li>
                            <li><strong>The moment it became clear:</strong> When did you know what the work needed to be? What
                                shifted?</li>
                        </ul>

                        <h4>AI Permissions: None</h4>
                        <p>
                            This must document your actual studio thinking‚Äînot a cleaned-up narrative written afterward. AI
                            tools may not be used to:
                        </p>
                        <ul>
                            <li>Generate images or visual elements that become part of your artwork</li>
                            <li>"Improve" or "enhance" your drawings, paintings, or designs</li>
                            <li>Suggest compositions, color palettes, or formal solutions</li>
                            <li>Reconstruct or invent studio process you didn't actually experience</li>
                            <li>Create preliminary sketches or studies</li>
                        </ul>

                        <p><strong>Why these constraints?</strong> Art-making is a form of embodied research. Ideas emerge
                        through the physical act of drawing, mixing color, layering marks‚Äînot through description or intention.
                        AI can't do this thinking for you because it doesn't have hands, doesn't feel material resistance,
                        doesn't discover through making.</p>

                        <p><strong>Deliverable:</strong> One completed original artwork, process documentation (10-15 images
                        showing development), studio journal entries (2-3 double-spaced pages, approximately 600-900 words) capturing your thinking throughout</p>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why no AI here?</strong> Studio practice is where artistic thinking happens‚Äîthrough material exploration, technical
                            problem-solving, and the iterative process of making, observing, and revising. This cannot be
                            outsourced to AI because the knowledge being built is embodied and material. A painter learns about
                            color relationships by mixing and observing paint, not by asking AI for color theory. The constraint
                            protects the authenticity of studio learning.
                        </p>

                        <p>
                            <strong>What would break?</strong> If students use AI to generate preliminary images, suggest compositions, or "enhance" their work,
                            they bypass the creative problem-solving that is the point of studio education. Art students aren't
                            learning to make objects that look good‚Äîthey're learning to think through materials, discovering
                            ideas that only emerge through sustained engagement with a medium.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> Professional artists develop a studio practice‚Äîa disciplined, iterative process of making and
                            reflecting. Art school teaches this practice, not just technical skills. Students must learn that
                            artistic ideas come through sustained engagement with materials, not inspiration or ideation divorced
                            from making.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Critical Contextualization Using Art Theory" badge="Stage 2">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>The Assignment</h4>
                        <p>
                            Analyze your completed work using art historical and critical frameworks. The goal is to situate
                            your piece within larger conversations about how visual art creates meaning, references traditions,
                            or engages contemporary questions.
                        </p>
                        <p>
                            Your analysis might explore: formal strategies and their effects, relationship to art historical
                            precedents or movements, how the work engages with contemporary artistic conversations, theoretical
                            frameworks that illuminate what the work does.
                        </p>
                        <p>
                            Strong analysis explains how your artistic choices function, not just what they are. Ground your
                            analysis in the specific work you made.
                        </p>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p><strong>AI may be used to:</strong></p>
                        <ul>
                            <li>Explore art historical context and identify relevant precedents</li>
                            <li>Test whether your formal analysis actually explains how the work functions</li>
                            <li>Surface theoretical frameworks that might illuminate aspects of your work</li>
                            <li>Find contemporary artists working with similar strategies or concerns</li>
                            <li>Refine the precision of your critical language</li>
                        </ul>

                        <p><strong>Unproductive AI uses</strong> (do not do these):</p>
                        <ul>
                            <li>Asking AI to analyze your artwork from an image</li>
                            <li>Having AI select which theoretical frameworks apply</li>
                            <li>Using AI to generate interpretations without your own close looking</li>
                            <li>Asking AI to explain your artistic intent (you made it‚Äîyou know your intent)</li>
                        </ul>

                        <p><strong>Deliverable:</strong> 3-4 double-spaced pages (approximately 900-1200 words) of critical analysis connecting your artwork to art
                        historical context and theoretical frameworks, grounded in specific formal analysis of what you made</p>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why allow AI as co-intelligence here?</strong> Students have now created original work through studio practice. AI can help them research art
                            historical context, explore theoretical frameworks, and refine their critical language‚Äîsupporting
                            the intellectual work of contextualizing their practice without replacing the artistic judgment that
                            comes from making the work themselves.
                        </p>

                        <p>
                            <strong>What's the boundary?</strong> Students must form their own analysis through close observation of their work before engaging AI.
                            They can't upload an image and ask "analyze this artwork." That bypasses the critical looking.
                            Instead, students develop an interpretation based on what they made and why, then use AI to deepen
                            context.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> Artists must be able to contextualize their practice‚Äîunderstanding how their work relates to art
                            history and contemporary discourse. Gallery talks, artist statements, and grant applications all
                            require this ability. Learning to research context and articulate formal strategies is essential
                            professional skill.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Artist Statement and Public Communication" badge="Stage 3">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>The Assignment</h4>
                        <p>
                            Write an artist statement communicating your work to public audiences‚Äîgallery visitors, grant
                            reviewers, or exhibition organizers who need to understand your practice and intent.
                        </p>
                        <p>
                            Strong artist statements: explain your artistic concerns and conceptual interests, describe your
                            process and approach to materials, contextualize the work without over-explaining it, use clear
                            language accessible to educated non-specialists, avoid clich√©s and vague claims.
                        </p>
                        <p>
                            Artist statements are a distinct genre with specific conventions. They're not academic analysis
                            (Stage 2) but professional communication that helps audiences engage with your work thoughtfully.
                        </p>

                        <h4>AI Permissions: Communication Tool</h4>
                        <p><strong>AI may be used to:</strong></p>
                        <ul>
                            <li>Refine clarity and concision (artist statements should be 250-350 words)</li>
                            <li>Test whether your statement is accessible to non-specialist readers</li>
                            <li>Identify jargon or unclear phrasing</li>
                            <li>Explore different ways to articulate the same ideas</li>
                            <li>Generate multiple phrasings of key concepts for you to choose among</li>
                        </ul>

                        <p>
                            The core content‚Äîyour artistic intent, your process, your concerns‚Äîmust be your own. AI helps with
                            expression and clarity, not with determining what you have to say about your work.
                        </p>

                        <p><strong>Deliverable:</strong> Artist statement (250-350 words) suitable for exhibition or portfolio
                        submission</p>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why allow AI as communication tool here?</strong> Artist statements are professional documents where clarity and concision matter. Many artists struggle
                            with this genre‚Äîvisual thinkers articulating in words, balancing accessibility with intellectual
                            substance. AI can help refine language and test clarity without replacing the core content, which
                            comes from the student's studio practice and critical analysis.
                        </p>

                        <p>
                            <strong>Why this is different from Stage 1:</strong> Stage 1 protected the making‚Äîthe embodied, material thinking that can't be outsourced. Stage 3 is
                            about professional communication, where the thinking is done and AI serves as an editing partner. The
                            artwork exists. The analysis is complete. Now AI helps communicate that work effectively to audiences.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> Professional artists must write statements for exhibitions, grants, residency applications, and
                            portfolio reviews. Learning to articulate practice clearly is essential, and many successful artists
                            work with editors or writing consultants. AI functions similarly‚Äîas a communication partner, not an
                            artistic collaborator.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>
            </div>
        </div>
    );
}

// ============================================================================
// CASE STUDIES SECTION (with tabs)
// ============================================================================


// ============================================================================
// PSYCHOLOGY CASE STUDY
// ============================================================================

function PsychologyCaseStudy() {
    return (
        <div>
            <div className="assignment-overview">
                <div className="overview-section">
                    <h4>What students create</h4>
                    <p>
                        A research proposal examining human behavior through <em>direct observation</em>, interpreted using 
                        psychological theories, and extended into an intervention design or research methodology.
                    </p>

                    <h4>Why this assignment matters</h4>
                    <p>
                        Students learn to distinguish between what they observe people doing and the psychological 
                        explanations they construct. By starting with authentic behavioral observation before applying 
                        theory, they develop the foundational skill of empirical reasoning‚Äîseeing what actually happens 
                        before explaining why.
                    </p>
                </div>
            </div>

            <div className="stages-container">
            <Accordion title="Behavioral Observation" badge="Stage 1" defaultOpen={true}>
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to observe behavior without imposing theoretical interpretation</li>
                            <li>The difference between description and psychological explanation</li>
                            <li>How to notice patterns in human behavior systematically</li>
                        </ul>

                        <h4>AI Permissions: None</h4>
                        <p>
                            This stage requires your <em>direct observation</em> of actual human behavior. AI cannot observe 
                            for you, and psychological research depends on authentic documentation of what people 
                            actually do, not what theory predicts they should do.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Choose a setting where you can observe human behavior: study habits in the library, 
                            decision-making in a campus dining hall, group dynamics in a team meeting, social 
                            interactions in a specific context. Observe for multiple sessions, documenting specific 
                            behaviors, patterns, contextual factors.
                        </p>
                        <p>
                            Write 500-750 words describing exactly what you observed. Record specific actions, 
                            sequences, timing, who did what. No psychological interpretation yet‚Äîthat comes in 
                            Stage 2. Right now, capture the behavioral data.
                        </p>

                        <h4>Example Topics</h4>
                        <ul>
                            <li>How students actually study versus how they plan to study</li>
                            <li>Decision-making patterns when choosing food under time pressure</li>
                            <li>Turn-taking and influence patterns in student organization meetings</li>
                            <li>Procrastination behaviors and triggers in authentic academic contexts</li>
                        </ul>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why no AI here?</strong> Psychology is an empirical science built on systematic observation. Students need
                            unmediated access to behavioral data before they impose theoretical frameworks. If
                            they use AI to "reconstruct" or "enhance" observations, they lose the raw behavioral
                            patterns that make good psychological research possible.
                        </p>

                        <p>
                            <strong>What would break?</strong> If students could use AI in this stage, they would unconsciously shift from recording
                            what people did to describing what psychological theory says they should have done.
                            AI would smooth over the inconsistencies, surprises, and contextual details that make
                            observations psychologically interesting.
                        </p>

                        <p>
                            <strong>What to expect?</strong> Students may resist this constraint, wanting to immediately explain what they're seeing.
                            However, forcing them to separate observation from interpretation builds the empirical
                            discipline central to psychological science‚Äîdistinguishing data from theory.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> In psychology, the ability to observe behavior systematically without theoretical bias
                            is foundational to research methods. This stage builds that capacity‚Äîlearning to see
                            what's actually there before explaining it with psychological concepts.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Theoretical Analysis" badge="Stage 2">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to connect observations to psychological theory</li>
                            <li>How to test competing theoretical explanations</li>
                            <li>How to use AI to strengthen psychological reasoning</li>
                        </ul>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p>
                            Now AI becomes a thinking partner. Use it to test your psychological interpretations, 
                            identify alternative theoretical frameworks, surface research you should consider, 
                            and challenge your reasoning.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Connect your Stage 1 observations to psychological theory. What cognitive, social, 
                            developmental, or behavioral principles explain what you observed? Use AI to stress-test 
                            your interpretation: "What alternative psychological explanations could account for this 
                            pattern?" "What confounding variables might I be missing?" "What research supports or 
                            contradicts this interpretation?"
                        </p>

                        <h4>Productive AI Uses</h4>
                        <ul>
                            <li>Testing whether your interpretation accounts for all observed behaviors</li>
                            <li>Identifying cognitive biases in your own reasoning</li>
                            <li>Surfacing relevant psychological research and theories</li>
                            <li>Checking assumptions about causation versus correlation</li>
                        </ul>

                        <h4>Unproductive AI Uses</h4>
                        <p>
                            Don't paste your Stage 1 observations and ask "What psychological theories explain this?" 
                            You need to form your own interpretation first. AI strengthens your thinking, but cannot 
                            replace the analytical work of connecting observation to theory.
                        </p>

                        <h4>What Students Deliver</h4>
                        <p>
                            2-3 double-spaced pages (approximately 600-900 words) analyzing your observations through psychological theory, demonstrating how AI
                            helped refine (not generate) your interpretation. Include a brief appendix: where did AI
                            add value, and where did it miss nuances you caught?
                        </p>
                    </div>

                    <PedagogyPanel>
                        <p><strong>Why AI here?</strong></p>
                        <p>
                            After students have authentic observations, AI helps them think more rigorously about 
                            psychological explanation. It can surface relevant research, identify alternative theories, 
                            and challenge weak reasoning‚Äîexactly what good psychological training should provide.
                        </p>

                        <p><strong>Student outcomes</strong></p>
                        <p>
                            AI can help students see gaps in their psychological reasoning or consider theoretical 
                            frameworks they hadn't weighted properly. Effective uses include having AI argue for 
                            alternative explanations, which forces students to either strengthen their interpretation 
                            or recognize they need better theory.
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            In psychological research, having your theoretical interpretation challenged is normal‚Äîby 
                            peer reviewers, conflicting data, or alternative frameworks. Learning to use AI as a 
                            "theoretical skeptic" prepares students for research where interpretations must withstand 
                            scrutiny.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Research Design or Intervention" badge="Stage 3">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to design research that tests psychological hypotheses</li>
                            <li>How to translate theory into interventions</li>
                            <li>How to anticipate methodological and ethical challenges</li>
                        </ul>

                        <h4>AI Permissions: As Tool and Partner</h4>
                        <p>
                            Use AI to design research methodology, identify ethical considerations, suggest measurement 
                            approaches, or develop intervention strategies. AI helps with implementation while you 
                            maintain ownership of the research question and theoretical foundation.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Based on your interpretation, design either: (1) a research study to test your psychological 
                            hypothesis, or (2) a behavioral intervention based on your findings. Use AI to refine 
                            methodology, identify potential confounds, ensure ethical research practices, or suggest 
                            measurement tools.
                        </p>

                        <h4>What Students Deliver</h4>
                        <p>
                            A research proposal (2-3 double-spaced pages, approximately 600-900 words) including: hypothesis derived from your Stage 2 analysis,
                            methodology, anticipated challenges, and ethical considerations. Show how your design follows
                            from your observations and theoretical analysis.
                        </p>
                    </div>

                    <PedagogyPanel>
                        <p><strong>Why AI here?</strong></p>
                        <p>
                            Research design requires considering many methodological details‚Äîsampling, measurement, 
                            confounds, ethics. AI can help students work through these systematically while they 
                            focus on the core psychological question and theoretical foundation.
                        </p>

                        <p><strong>Student outcomes</strong></p>
                        <p>
                            This is where students' psychological analysis becomes actionable research. Strong proposals 
                            show clear connection from observed behavior ‚Üí theoretical interpretation ‚Üí testable hypothesis, 
                            with AI supporting the methodological rigor.
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            Psychology requires translating theoretical understanding into empirical research. This stage 
                            ensures students can move from interpretation to investigation‚Äîthe core cycle of psychological 
                            science.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>
            </div>
        </div>
    );
}

// ============================================================================
// ECONOMICS CASE STUDY
// ============================================================================

function EconomicsCaseStudy() {
    return (
        <div>
            <div className="assignment-overview">
                <div className="overview-section">
                    <h4>What students create</h4>
                    <p>
                        An economic analysis anchored in real-world data, interpreted through economic models and theory, 
                        culminating in evidence-based policy recommendations or forecasts.
                    </p>

                    <h4>Why this assignment matters</h4>
                    <p>
                        Students learn to distinguish between economic data they can document and the models they use 
                        to interpret it. By starting with authentic data collection before applying economic theory, 
                        they develop the foundational skill of empirical economics‚Äîletting data inform theory rather 
                        than theory dictate data.
                    </p>
                </div>
            </div>

            <div className="stages-container">
            <Accordion title="Data Collection and Documentation" badge="Stage 1" defaultOpen={true}>
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to locate and extract data from primary economic sources</li>
                            <li>The difference between data and economic interpretation</li>
                            <li>How to document economic phenomena systematically</li>
                        </ul>

                        <h4>AI Permissions: None</h4>
                        <p>
                            This stage requires you to locate, extract, and document real economic data from primary 
                            sources. AI cannot gather data for you, and economic analysis depends on your ability to 
                            work with authentic data sources, not AI-generated summaries.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Choose an economic phenomenon you can track with real data: local employment trends, housing 
                            prices, inflation patterns, trade flows, wage changes in specific sectors. Use primary sources 
                            like Bureau of Labor Statistics, Federal Reserve databases, Census data, company financial 
                            reports.
                        </p>
                        <p>
                            Document your data collection: what variables did you track? Over what period? What patterns 
                            emerge? Create tables, charts showing the raw data. No economic interpretation yet‚Äîthat's 
                            Stage 2. Right now, demonstrate you can work with authentic economic data.
                        </p>

                        <h4>Example Topics</h4>
                        <ul>
                            <li>Local employment changes by sector over the past 2-3 years</li>
                            <li>Housing price trends in a specific market with demographic data</li>
                            <li>Trade patterns between specific countries/products</li>
                            <li>Minimum wage changes and employment data in specific industries</li>
                        </ul>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why no AI here?</strong> Economists must be able to locate, extract, and work with real economic data. If students
                            use AI to "find data for them" or "summarize economic trends," they bypass the essential
                            skill of working with primary sources and understanding data provenance.
                        </p>

                        <p>
                            <strong>What would break?</strong> If students could use AI here, they would get AI-generated summaries rather than learning
                            to navigate actual economic databases. They would lose the hands-on experience with data
                            quality, measurement issues, and source reliability that matters for real economic analysis.
                        </p>

                        <p>
                            <strong>What to expect?</strong> Students may find primary data sources more complex than expected. However, this challenge
                            is precisely what builds economic literacy‚Äîlearning to work with messy, real-world data
                            rather than sanitized examples.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> In economics, the ability to work with primary data sources is foundational to empirical
                            research. This stage builds that capacity‚Äîlearning to document economic reality before
                            imposing theoretical models.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Economic Analysis and Modeling" badge="Stage 2">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to apply economic models to real data</li>
                            <li>How to test competing economic explanations</li>
                            <li>How to use AI to strengthen economic reasoning</li>
                        </ul>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p>
                            Now AI becomes your analytical partner. Use it to test economic logic, check mathematical 
                            reasoning, identify omitted variables, surface alternative models, and challenge your 
                            assumptions about causation.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Apply economic theory to explain your Stage 1 data. What economic principles account for 
                            the patterns you documented? Supply and demand? Market structures? Policy effects? 
                            Information asymmetries? Use AI to stress-test your analysis: "What alternative economic 
                            explanations could fit this data?" "What confounding factors might I be missing?" "Does 
                            my causal reasoning hold up?"
                        </p>

                        <h4>Productive AI Uses</h4>
                        <ul>
                            <li>Checking mathematical reasoning and calculations</li>
                            <li>Identifying omitted variables or confounding factors</li>
                            <li>Testing model assumptions against your specific context</li>
                            <li>Surfacing alternative economic explanations</li>
                            <li>Validating causal claims versus correlations</li>
                        </ul>

                        <h4>Unproductive AI Uses</h4>
                        <p>
                            Don't paste your data and ask "What economic model explains this?" You need to form your 
                            own economic interpretation first. AI strengthens your analysis, but cannot replace the 
                            work of connecting theory to evidence.
                        </p>

                        <h4>What Students Deliver</h4>
                        <p>
                            3-4 double-spaced pages (approximately 900-1200 words) analyzing your data through economic theory, showing how specific models or
                            principles explain the patterns you documented. Include a brief appendix: where did AI help
                            refine your economic reasoning, and where did it miss context you understood?
                        </p>
                    </div>

                    <PedagogyPanel>
                        <p><strong>Why AI here?</strong></p>
                        <p>
                            After students have authentic data, AI helps them think more rigorously about economic 
                            explanation. It can check logic, identify alternative models, surface omitted variables, 
                            and challenge weak causal reasoning‚Äîexactly what good economics training should provide.
                        </p>

                        <p><strong>Student outcomes</strong></p>
                        <p>
                            AI can help students see gaps in their economic logic or consider factors they hadn't 
                            weighted properly. Effective uses include having AI argue for alternative economic 
                            explanations, which forces students to either strengthen their analysis or recognize 
                            they need different models.
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            In economics, having your analysis challenged is normal‚Äîby other economists, conflicting 
                            data, or policy debates. Learning to use AI as an "analytical skeptic" prepares students 
                            for economic work where interpretations must withstand scrutiny.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Policy Recommendations" badge="Stage 3">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to translate economic analysis into policy proposals</li>
                            <li>How to anticipate unintended consequences</li>
                            <li>How to consider implementation challenges</li>
                        </ul>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p>
                            Use AI to develop policy implications, identify potential unintended consequences, consider 
                            political economy constraints, or test robustness of recommendations. AI helps you think 
                            through implementation while you maintain ownership of the economic logic.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Based on your economic analysis, develop policy recommendations or forecasts. If your data 
                            showed employment changes, what labor market policies follow from your analysis? If housing 
                            prices, what zoning or finance policies? Use AI to test your recommendations: "What could 
                            go wrong?" "What constituencies would oppose this?" "What data would prove me wrong?"
                        </p>

                        <h4>What Students Deliver</h4>
                        <p>
                            2-3 double-spaced pages (approximately 600-900 words) of evidence-based policy recommendations, showing clear connection from data ‚Üí
                            economic analysis ‚Üí policy implications. Address potential counterarguments and
                            implementation challenges.
                        </p>
                    </div>

                    <PedagogyPanel>
                        <p><strong>Why AI here?</strong></p>
                        <p>
                            Policy requires anticipating many considerations‚Äîdistributional effects, political 
                            feasibility, unintended consequences, implementation costs. AI can help students work 
                            through these systematically while they focus on the core economic logic.
                        </p>

                        <p><strong>Student outcomes</strong></p>
                        <p>
                            This is where economic analysis becomes actionable. Strong recommendations show clear 
                            connection from documented data ‚Üí theoretical interpretation ‚Üí policy implications, with 
                            AI helping identify potential challenges.
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            Economics aims to inform policy and decision-making. This stage ensures students can 
                            move from analysis to recommendations‚Äîthe core purpose of applied economic work.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>
            </div>
        </div>
    );
}

// ============================================================================
// CHEMISTRY CASE STUDY
// ============================================================================

function ChemistryCaseStudy() {
    return (
        <div>
            <div className="assignment-overview">
                <div className="overview-section">
                    <h4>What students create</h4>
                    <p>
                        A laboratory investigation documenting experimental observations and data, analyzed using 
                        chemical principles, extended into real-world applications or further experimental design.
                    </p>

                    <h4>Why this assignment matters</h4>
                    <p>
                        Students learn to distinguish between what they observe in the lab and the chemical theories 
                        they use to explain it. By starting with hands-on experimentation before applying theory, 
                        they develop the foundational skill of experimental science‚Äîgathering authentic data before 
                        imposing theoretical explanations.
                    </p>
                </div>
            </div>

            <div className="stages-container">
            <Accordion title="Laboratory Work and Data Collection" badge="Stage 1" defaultOpen={true}>
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to conduct experiments systematically</li>
                            <li>How to document observations without theoretical bias</li>
                            <li>The difference between data and chemical interpretation</li>
                        </ul>

                        <h4>AI Permissions: None</h4>
                        <p>
                            This stage requires hands-on laboratory work. AI cannot run experiments for you, and 
                            chemical science depends on your ability to conduct procedures, make observations, and 
                            document authentic experimental data.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Conduct a laboratory experiment: synthesis, analysis, kinetics study, thermodynamics 
                            investigation. Follow proper procedure, record all observations (color changes, temperature, 
                            precipitates, gas evolution, reaction time). Document measurements, unexpected results, 
                            procedural variations.
                        </p>
                        <p>
                            Keep detailed lab notes: procedure followed, materials used, observations at each step, 
                            quantitative data, anything surprising. Create data tables. No theoretical explanation 
                            yet‚Äîthat's Stage 2. Right now, show you can conduct experiments and collect reliable data.
                        </p>

                        <h4>Example Topics</h4>
                        <ul>
                            <li>Synthesis and purification of an organic compound</li>
                            <li>Kinetics of a reaction under varying conditions</li>
                            <li>Thermodynamic properties through calorimetry</li>
                            <li>Quantitative analysis using spectroscopy or titration</li>
                        </ul>
                    </div>

                    <PedagogyPanel>
                        <p>
                            <strong>Why no AI here?</strong> Chemistry is an experimental science. Students need hands-on experience conducting
                            procedures, making observations, and troubleshooting when things don't go as planned.
                            If they use AI to "help write lab notes" or "explain what should have happened," they
                            lose the authentic experimental experience.
                        </p>

                        <p>
                            <strong>What would break?</strong> If students could use AI in this stage, they would shift from documenting what actually
                            happened to describing what theory predicts should happen. They would lose the messy
                            reality of real experiments‚Äîthe unexpected results, procedural challenges, and
                            troubleshooting that build experimental competence.
                        </p>

                        <p>
                            <strong>What to expect?</strong> Students may initially resist documenting "failures" or unexpected results. However,
                            authentic lab work rarely matches theoretical predictions perfectly. Learning to document
                            what actually occurred builds scientific integrity and experimental skill.
                        </p>

                        <p>
                            <strong>Disciplinary connection:</strong> In chemistry, experimental technique and careful observation are foundational. This stage
                            builds those capacities‚Äîlearning to work with real chemical systems before imposing
                            theoretical frameworks.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Chemical Analysis and Interpretation" badge="Stage 2">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to interpret experimental data using chemical principles</li>
                            <li>How to identify sources of error and alternative explanations</li>
                            <li>How to use AI to strengthen chemical reasoning</li>
                        </ul>

                        <h4>AI Permissions: Co-Intelligence Partner</h4>
                        <p>
                            Now AI becomes your analytical partner. Use it to check stoichiometric calculations, 
                            validate mechanistic reasoning, identify potential sources of error, suggest alternative 
                            reaction pathways, or connect your results to broader chemical concepts.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Interpret your experimental results using chemical theory. What principles explain your 
                            observations? Thermodynamics? Kinetics? Molecular structure? Reaction mechanisms? Use AI 
                            to stress-test your interpretation: "What could explain the unexpected color?" "How do I 
                            calculate theoretical yield correctly?" "What other reaction pathways are possible?"
                        </p>

                        <h4>Productive AI Uses</h4>
                        <ul>
                            <li>Validating stoichiometric calculations and unit conversions</li>
                            <li>Checking mechanistic reasoning against chemical principles</li>
                            <li>Identifying potential sources of experimental error</li>
                            <li>Suggesting alternative explanations for unexpected results</li>
                            <li>Connecting observations to molecular-level phenomena</li>
                        </ul>

                        <h4>Unproductive AI Uses</h4>
                        <p>
                            Don't paste your lab data and ask "What does this mean chemically?" You need to form your 
                            own chemical interpretation first. AI strengthens your reasoning, but cannot replace the 
                            analytical work of connecting experimental data to chemical theory.
                        </p>

                        <h4>What Students Deliver</h4>
                        <p>
                            Lab report (3-4 double-spaced pages, approximately 900-1200 words) analyzing your experimental results through chemical principles,
                            including calculations, mechanistic explanations, and error analysis. Include a brief
                            appendix: where did AI help refine your chemical reasoning?
                        </p>
                    </div>

                    <PedagogyPanel>
                        <p><strong>Why AI here?</strong></p>
                        <p>
                            After students have authentic experimental data, AI helps them think more rigorously about 
                            chemical explanation. It can validate calculations, suggest mechanisms, identify sources 
                            of error, and challenge weak reasoning‚Äîexactly what good chemistry training should provide.
                        </p>

                        <p><strong>Student outcomes</strong></p>
                        <p>
                            AI can help students check complex calculations, consider alternative mechanisms, or 
                            understand why their results differed from predictions. Effective uses include having AI 
                            suggest error sources, which forces students to think critically about experimental design.
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            In chemistry research, having your interpretations challenged by data, peer review, or 
                            alternative mechanisms is normal. Learning to use AI as a "chemical skeptic" prepares 
                            students for research where explanations must account for experimental evidence.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>

            <div className="stage-arrow">‚Üì</div>

            <Accordion title="Application or Experimental Design" badge="Stage 3">
                <div className="accordion-panels">
                    <div className="accordion-panel panel-student">
                        <h4>What Students Learn</h4>
                        <ul>
                            <li>How to design follow-up experiments</li>
                            <li>How to connect lab work to real-world applications</li>
                            <li>How to anticipate chemical challenges in implementation</li>
                        </ul>

                        <h4>AI Permissions: As Tool and Partner</h4>
                        <p>
                            Use AI for molecular modeling, predicting reaction outcomes, identifying safety concerns, 
                            suggesting applications in pharmaceuticals, materials, or environmental chemistry. AI helps 
                            with implementation while you maintain ownership of the chemical logic.
                        </p>

                        <h4>The Assignment</h4>
                        <p>
                            Based on your experimental results, either: (1) design follow-up experiments with modified 
                            conditions to test specific hypotheses, or (2) propose real-world applications of your 
                            chemical findings. Use AI to model molecular interactions, predict reaction outcomes, 
                            identify scaling challenges, or ensure safety considerations.
                        </p>

                        <h4>What Students Deliver</h4>
                        <p>
                            Proposal (2-3 double-spaced pages, approximately 600-900 words) for extended investigation or application, showing clear connection
                            from experimental observations ‚Üí chemical analysis ‚Üí next steps. Address feasibility,
                            safety, and expected outcomes.
                        </p>
                    </div>

                    <PedagogyPanel>
                        <p><strong>Why AI here?</strong></p>
                        <p>
                            Moving from lab-scale to application requires considering many factors‚Äîscaling, safety, 
                            optimization, alternative reagents. AI can help students work through these systematically 
                            while they focus on core chemical principles.
                        </p>

                        <p><strong>Student outcomes</strong></p>
                        <p>
                            This is where experimental work becomes translational. Strong proposals show clear connection 
                            from lab observations ‚Üí chemical interpretation ‚Üí practical applications, with AI supporting 
                            the implementation details.
                        </p>

                        <p><strong>Disciplinary connection</strong></p>
                        <p>
                            Chemistry bridges fundamental science and practical application. This stage ensures students 
                            can move from experimental results to real-world impact‚Äîthe core purpose of applied chemical 
                            research.
                        </p>
                    </PedagogyPanel>
                </div>
            </Accordion>
            </div>
        </div>
    );
}
// Main Jeff Schatten Business Case
function JeffSchattenCase() {
    return (
        <section id="jeff-schatten">
            <div className="container">
                <h2>The Assignment: Organizational Analysis</h2>
                <p style={{fontSize: '1.1rem', marginBottom: '2rem', color: 'var(--wl-gray)'}}>
                    In his undergraduate course Managing Uncertainty, <a href="https://www.wlu.edu/profile/schatten-jeffrey" target="_blank" rel="noopener noreferrer">Jeff</a> guides students to observe real organizational behavior before applying theoretical frameworks‚Äîpreserving the authenticity that makes genuine analysis possible.
                </p>
                <BusinessCaseStudy />
            </div>
        </section>
    );
}

// Disciplinary Example Cases
function DisciplinaryExamples() {
    const [activeTab, setActiveTab] = useState('literature');

    return (
        <section id="examples" style={{background: 'var(--wl-pale-blue)', paddingTop: '4rem', paddingBottom: '4rem', marginTop: '0'}}>
            <div className="container">
                <h2>Adapting the Framework Across Disciplines</h2>
                <p style={{marginBottom: '2rem'}}>
                    The assignments below are illustrative examples. They demonstrate how the staged AI assignment framework <strong>could</strong> be adapted across different disciplines to maintain rigor while thoughtfully incorporating generative tools.
                </p>

                <div className="tabs">
                    <button
                        className={'tab ' + (activeTab === 'literature' ? 'active' : '')}
                        onClick={() => setActiveTab('literature')}
                    >
                        Literature
                    </button>
                    <button
                        className={'tab ' + (activeTab === 'environmental' ? 'active' : '')}
                        onClick={() => setActiveTab('environmental')}
                    >
                        Environmental Science
                    </button>
                    <button
                        className={'tab ' + (activeTab === 'art' ? 'active' : '')}
                        onClick={() => setActiveTab('art')}
                    >
                        Studio Art
                    </button>
                    <button
                        className={'tab ' + (activeTab === 'psychology' ? 'active' : '')}
                        onClick={() => setActiveTab('psychology')}
                    >
                        Psychology
                    </button>
                    <button
                        className={'tab ' + (activeTab === 'economics' ? 'active' : '')}
                        onClick={() => setActiveTab('economics')}
                    >
                        Economics
                    </button>
                    <button
                        className={'tab ' + (activeTab === 'chemistry' ? 'active' : '')}
                        onClick={() => setActiveTab('chemistry')}
                    >
                        Chemistry
                    </button>
                </div>

                {activeTab === 'literature' && <LiteratureCaseStudy />}
                {activeTab === 'environmental' && <EnvironmentalScienceCaseStudy />}
                {activeTab === 'art' && <StudioArtCaseStudy />}
                {activeTab === 'psychology' && <PsychologyCaseStudy />}
                {activeTab === 'economics' && <EconomicsCaseStudy />}
                {activeTab === 'chemistry' && <ChemistryCaseStudy />}
            </div>
        </section>
    );
}

// ============================================================================
// RESOURCE LIBRARY SECTION
// ============================================================================

function ResourceLibrary() {
    const [expanded, setExpanded] = useState(null);

    const resources = [
        {
            id: 'talking',
            icon: 'üí¨',
            title: 'Talking to Students About AI Boundaries',
            preview: 'Sample syllabus language, first-day framing, and responses to common student questions about AI rules.',
            content: resourceContent.talking
        },
        {
            id: 'workarounds',
            icon: 'üîç',
            title: 'Common Student Workarounds',
            preview: 'What faculty have seen students try to bypass AI constraints, and how to redirect productively.',
            content: resourceContent.workarounds
        },
        {
            id: 'adapting',
            icon: 'üéØ',
            title: 'Adapting to Different Assignment Types',
            preview: 'Quick guides for applying staged AI boundaries to labs, problem sets, presentations, and creative projects.',
            content: resourceContent.adapting
        },
        {
            id: 'assessment',
            icon: '‚úì',
            title: 'Assessment Rubrics for AI Co-Intelligence',
            preview: 'How to evaluate whether students used AI productively versus unproductively in analytical work.',
            content: resourceContent.assessment
        }
    ];

    return (
        <section id="resources">
            <div className="container">
                <h2>Teaching Resources</h2>
                <p>Practical guides for implementing staged AI assignments</p>

                <div className="resource-grid">
                    {resources.map(resource => (
                        <div key={resource.id} className="resource-card" onClick={() => setExpanded(expanded === resource.id ? null : resource.id)}>
                            <span className="resource-icon">{resource.icon}</span>
                            <h3>{resource.title}</h3>
                            <p className="resource-preview">{resource.preview}</p>
                            <button className="secondary">
                                {expanded === resource.id ? 'Close' : 'Read More'}
                            </button>
                            {expanded === resource.id && (
                                <div className="resource-content visible">
                                    <FormattedContent content={resource.content} />
                                </div>
                            )}
                        </div>
                    ))}
                </div>
            </div>
        </section>
    );
}

// ============================================================================
// FOOTER
// ============================================================================

function Footer() {
    const [copiedState, setCopiedState] = React.useState(false);

    // Randomize PLAI Lab credit text
    const plaiCredits = [
        "Designed by the PLAI Lab",
        "Powered by the PLAI Lab",
        "Created by the PLAI Lab"
    ];
    const [plaiCredit] = React.useState(() =>
        plaiCredits[Math.floor(Math.random() * plaiCredits.length)]
    );

    // Randomize feedback link text
    const feedbackTexts = [
        "Have Feedback for Us?",
        "Share Your Feedback",
        "Send Anonymous Feedback"
    ];
    const [feedbackText] = React.useState(() =>
        feedbackTexts[Math.floor(Math.random() * feedbackTexts.length)]
    );

    // Randomize AI transparency statement
    const aiStatements = [
        "Content conceptualized and directed by human educators, with a combination of human-written and AI-generated material, all reviewed and edited by humans.",
        "Human-conceptualized resource combining human-written content and AI-generated material under human direction, editing, and review.",
        "Content developed through human-AI collaboration: conceptualized and directed by educators, drafted by humans and AI, edited and reviewed by humans.",
        "Human-directed resource combining human-written and AI-generated content, with all content reviewed and edited by humans.",
        "Content created through human-AI collaboration under human direction and review."
    ];
    const [aiStatement] = React.useState(() =>
        aiStatements[Math.floor(Math.random() * aiStatements.length)]
    );

    // Get dynamic last updated date
    const getLastModified = () => {
        const lastModified = new Date(document.lastModified);
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return lastModified.toLocaleDateString('en-US', options);
    };

    const handleCopyStatement = () => {
        navigator.clipboard.writeText(aiStatement).then(() => {
            setCopiedState(true);
            setTimeout(() => setCopiedState(false), 2000);
        }).catch(err => {
            console.error('We couldn\'t copy the transparency statement to your clipboard.', err);
        });
    };

    return (
        <footer>
            <div className="container">
                <div className="footer-content">
                    <a href="https://academicai.academic.wlu.edu/plai-lab/" target="_blank" rel="noopener noreferrer" className="footer-logo-link">
                        <img
                            src="plai-lab-logo.gif"
                            alt="PLAI Lab"
                            className="footer-logo"
                        />
                    </a>
                    <p className="footer-credit-wrapper">
                        <a href="https://academicai.academic.wlu.edu/plai-lab/" target="_blank" rel="noopener noreferrer" className="footer-credit-link">
                            {plaiCredit}
                        </a> | Last Updated: {getLastModified()}
                    </p>
                    <p className="footer-copyright">
                        ¬© 2026 <a href="https://www.wlu.edu/harte-center" target="_blank" rel="noopener noreferrer">Houston H. Harte Center for Teaching and Learning</a> at Washington and Lee University<br />
                        <a href="https://wluniversity.qualtrics.com/jfe/form/SV_cY2m5oe2zHKpjQW" target="_blank" rel="noopener noreferrer" className="footer-feedback-link">{feedbackText}</a>
                    </p>
                    <div className="ai-statement-container">
                        <em className="footer-statement">{aiStatement}</em>
                    </div>
                    <button className="footer-copy-btn" onClick={handleCopyStatement} aria-label="Copy transparency statement">
                        {copiedState ? 'Copied!' : 'Copy'}
                    </button>
                </div>
            </div>
        </footer>
    );
}

// ============================================================================
// MAIN APP COMPONENT
// ============================================================================

// ASSIGNMENT DESIGNER WIZARD COMPONENT
// ============================================================================

function AssignmentDesigner() {
    const [currentStep, setCurrentStep] = useState(1);
    const [showOutput, setShowOutput] = useState(false);
    const [outputFormat, setOutputFormat] = useState('plaintext');
    const [showValidationError, setShowValidationError] = useState(false);
    const [missingFields, setMissingFields] = useState([]);
    const outputRef = useRef(null);

    // Form state
    const [formData, setFormData] = useState({
        discipline: '',
        question: '',
        deliverable: '',
        duration: '',

        stage1Description: '',
        stage1Prohibitions: '',
        stage1Why: '',
        stage1Deliverable: '',

        stage2Frameworks: '',
        stage2Argument: '',
        stage2ProductiveUses: [],
        stage2UseCustom: false,
        stage2CustomProductiveUse: '',
        stage2UnproductiveUses: '',
        stage2Deliverable: '',

        stage3Type: '',
        stage3CustomType: '',
        stage3Description: '',
        stage3AIRole: '',
        stage3Deliverable: '',

        includeAppendix: 'yes',
        appendixPrompt: 'At the end of your document, include 2-3 sentences addressing: Where did AI add value beyond what you could have done on your own, and where did it fail to grasp the nuance or complexity of your work?',
        includeVisual: '',
        visualDescription: ''
    });

    const updateField = (field, value) => {
        setFormData(prev => ({ ...prev, [field]: value }));
    };

    const toggleProductiveUse = (use) => {
        setFormData(prev => ({
            ...prev,
            stage2ProductiveUses: prev.stage2ProductiveUses.includes(use)
                ? prev.stage2ProductiveUses.filter(u => u !== use)
                : [...prev.stage2ProductiveUses, use]
        }));
    };

    const getMissingFields = (step) => {
        const missing = [];
        switch (step) {
            case 1:
                if (!formData.discipline) missing.push('discipline');
                if (!formData.question) missing.push('question');
                if (!formData.deliverable) missing.push('deliverable');
                if (!formData.duration) missing.push('duration');
                break;
            case 2:
                if (!formData.stage1Description) missing.push('stage1Description');
                if (!formData.stage1Prohibitions) missing.push('stage1Prohibitions');
                if (!formData.stage1Why) missing.push('stage1Why');
                if (!formData.stage1Deliverable) missing.push('stage1Deliverable');
                break;
            case 3:
                const hasProductiveUses = formData.stage2ProductiveUses.length > 0 || (formData.stage2UseCustom && formData.stage2CustomProductiveUse.trim() !== '');
                if (!formData.stage2Frameworks) missing.push('stage2Frameworks');
                if (!formData.stage2Argument) missing.push('stage2Argument');
                if (!hasProductiveUses) missing.push('stage2ProductiveUses');
                if (!formData.stage2UnproductiveUses) missing.push('stage2UnproductiveUses');
                if (!formData.stage2Deliverable) missing.push('stage2Deliverable');
                break;
            case 4:
                const hasValidType = formData.stage3Type && (formData.stage3Type !== 'Other' || formData.stage3CustomType.trim() !== '');
                if (!hasValidType) missing.push('stage3Type');
                if (!formData.stage3Description) missing.push('stage3Description');
                if (!formData.stage3AIRole) missing.push('stage3AIRole');
                if (!formData.stage3Deliverable) missing.push('stage3Deliverable');
                break;
        }
        return missing;
    };

    const validateStep = (step) => {
        return getMissingFields(step).length === 0;
    };

    const nextStep = () => {
        const missing = getMissingFields(currentStep);
        if (missing.length === 0) {
            setShowValidationError(false);
            setMissingFields([]);
            setCurrentStep(prev => Math.min(prev + 1, 5));
            document.getElementById('designer')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else {
            setShowValidationError(true);
            setMissingFields(missing);
            document.getElementById('designer')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    };

    const prevStep = () => {
        setCurrentStep(prev => Math.max(prev - 1, 1));
        document.getElementById('designer')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
    };

    const handleGenerate = () => {
        setShowOutput(true);
        setTimeout(() => {
            outputRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });
            // Play completion sound
            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBDmO0+3MbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBDmO0+zMbCEFKH3F78yEOwcZYrXn559NEAtOpuPwtWMcBjiP1u3MeywFJHfH8N+RQAoUXrTp66hVFA==');
            audio.play().catch(e => console.log('Audio playback not available'));
        }, 100);
    };

    // Output generation functions
    const generatePlainText = () => {
        let output = `STAGED AI ASSIGNMENT\n${'='.repeat(60)}\n\n`;
        output += `Discipline: ${formData.discipline}\n`;
        output += `Duration: ${formData.duration}\n`;
        output += `Central Question: ${formData.question}\n`;
        output += `Final Deliverable: ${formData.deliverable}\n\n`;
        output += `${'='.repeat(60)}\n\n`;

        output += `STAGE 1: PRIMARY EXPERIENCE (No AI)\n${'-'.repeat(60)}\n\n`;
        output += `What Students Do:\n${formData.stage1Description}\n\n`;
        output += `AI Prohibitions:\n${formData.stage1Prohibitions}\n\n`;
        output += `Why No AI:\n${formData.stage1Why}\n\n`;
        output += `Deliverable: ${formData.stage1Deliverable}\n\n`;

        output += `${'='.repeat(60)}\n\n`;
        output += `STAGE 2: CONCEPTUAL INTERPRETATION (AI as Co-Intelligence)\n${'-'.repeat(60)}\n\n`;
        output += `Conceptual Frameworks:\n${formData.stage2Frameworks}\n\n`;
        output += `Argument Type:\n${formData.stage2Argument}\n\n`;
        output += `Productive AI Uses:\n`;
        formData.stage2ProductiveUses.forEach(use => {
            output += `  - ${use}\n`;
        });
        if (formData.stage2UseCustom && formData.stage2CustomProductiveUse) {
            output += `  - ${formData.stage2CustomProductiveUse}\n`;
        }
        output += `\nUnproductive AI Uses (DO NOT do these):\n${formData.stage2UnproductiveUses}\n\n`;
        output += `Deliverable: ${formData.stage2Deliverable}\n\n`;

        output += `${'='.repeat(60)}\n\n`;
        output += `STAGE 3: APPLICATION & EXTENSION\n${'-'.repeat(60)}\n\n`;
        const stage3TypeDisplay = formData.stage3Type === 'Other' && formData.stage3CustomType ? formData.stage3CustomType : formData.stage3Type;
        output += `Type: ${stage3TypeDisplay}\n\n`;
        output += `Description:\n${formData.stage3Description}\n\n`;
        output += `AI Role: ${formData.stage3AIRole}\n\n`;
        output += `Deliverable: ${formData.stage3Deliverable}\n\n`;

        if (formData.includeAppendix === 'yes') {
            output += `${'='.repeat(60)}\n\n`;
            output += `CO-INTELLIGENCE APPENDIX (Required)\n${'-'.repeat(60)}\n\n`;
            output += `${formData.appendixPrompt}\n\n`;
        }

        if (formData.includeVisual && formData.visualDescription) {
            output += `${'='.repeat(60)}\n\n`;
            output += `VISUAL SYNTHESIS\n${'-'.repeat(60)}\n\n`;
            output += `${formData.visualDescription}\n\n`;
        }

        return output;
    };

    const generateMarkdown = () => {
        let output = `# Staged AI Assignment\n\n`;
        output += `**Discipline:** ${formData.discipline}  \n`;
        output += `**Duration:** ${formData.duration}  \n`;
        output += `**Central Question:** ${formData.question}  \n`;
        output += `**Final Deliverable:** ${formData.deliverable}\n\n`;
        output += `---\n\n`;

        output += `## Stage 1: Primary Experience üö´ No AI\n\n`;
        output += `### What Students Do\n\n${formData.stage1Description}\n\n`;
        output += `### AI Prohibitions\n\n${formData.stage1Prohibitions}\n\n`;
        output += `### Why No AI\n\n${formData.stage1Why}\n\n`;
        output += `**Deliverable:** ${formData.stage1Deliverable}\n\n`;
        output += `---\n\n`;

        output += `## Stage 2: Conceptual Interpretation ü§ù AI as Co-Intelligence\n\n`;
        output += `### Conceptual Frameworks\n\n${formData.stage2Frameworks}\n\n`;
        output += `### Argument Type\n\n${formData.stage2Argument}\n\n`;
        output += `### Productive AI Uses\n\n`;
        formData.stage2ProductiveUses.forEach(use => {
            output += `- ${use}\n`;
        });
        if (formData.stage2UseCustom && formData.stage2CustomProductiveUse) {
            output += `- ${formData.stage2CustomProductiveUse}\n`;
        }
        output += `\n### Unproductive AI Uses (DO NOT do these)\n\n${formData.stage2UnproductiveUses}\n\n`;
        output += `**Deliverable:** ${formData.stage2Deliverable}\n\n`;
        output += `---\n\n`;

        output += `## Stage 3: Application & Extension\n\n`;
        const stage3TypeDisplayMd = formData.stage3Type === 'Other' && formData.stage3CustomType ? formData.stage3CustomType : formData.stage3Type;
        output += `**Type:** ${stage3TypeDisplayMd}\n\n`;
        output += `### Description\n\n${formData.stage3Description}\n\n`;
        output += `### AI Role\n\n${formData.stage3AIRole}\n\n`;
        output += `**Deliverable:** ${formData.stage3Deliverable}\n\n`;

        if (formData.includeAppendix === 'yes') {
            output += `---\n\n`;
            output += `## Co-Intelligence Appendix (Required)\n\n`;
            output += `${formData.appendixPrompt}\n\n`;
        }

        if (formData.includeVisual && formData.visualDescription) {
            output += `---\n\n`;
            output += `## Visual Synthesis\n\n`;
            output += `${formData.visualDescription}\n\n`;
        }

        return output;
    };

    const generateHTML = () => {
        let output = `<!DOCTYPE html>\n<html lang="en">\n<head>\n`;
        output += `    <meta charset="UTF-8">\n`;
        output += `    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n`;
        output += `    <title>Staged AI Assignment</title>\n`;
        output += `    <style>\n`;
        output += `        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; line-height: 1.6; max-width: 900px; margin: 2rem auto; padding: 0 2rem; color: #1F2937; }\n`;
        output += `        h1 { color: #003366; border-bottom: 3px solid #003366; padding-bottom: 0.5rem; }\n`;
        output += `        h2 { color: #003366; margin-top: 2rem; border-bottom: 1px solid #E5E7EB; padding-bottom: 0.5rem; }\n`;
        output += `        h3 { color: #003366; margin-top: 1.5rem; }\n`;
        output += `        .meta { background: #F3F4F6; padding: 1rem; margin-bottom: 2rem; border-left: 4px solid #003366; }\n`;
        output += `        .meta p { margin: 0.5rem 0; }\n`;
        output += `        .stage { margin-bottom: 3rem; padding: 1.5rem; background: #FAFAFA; border-left: 4px solid #003366; }\n`;
        output += `        .badge { display: inline-block; background: #003366; color: white; padding: 0.25rem 0.75rem; font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem; }\n`;
        output += `        ul { margin-left: 1.5rem; }\n`;
        output += `        li { margin-bottom: 0.5rem; }\n`;
        output += `        hr { border: none; border-top: 2px solid #E5E7EB; margin: 2rem 0; }\n`;
        output += `        strong { color: #003366; }\n`;
        output += `    </style>\n</head>\n<body>\n`;

        output += `    <h1>Staged AI Assignment</h1>\n\n`;
        output += `    <div class="meta">\n`;
        output += `        <p><strong>Discipline:</strong> ${formData.discipline}</p>\n`;
        output += `        <p><strong>Duration:</strong> ${formData.duration}</p>\n`;
        output += `        <p><strong>Central Question:</strong> ${formData.question}</p>\n`;
        output += `        <p><strong>Final Deliverable:</strong> ${formData.deliverable}</p>\n`;
        output += `    </div>\n\n`;

        output += `    <div class="stage">\n`;
        output += `        <span class="badge">üö´ Stage 1: No AI</span>\n`;
        output += `        <h2>Primary Experience</h2>\n\n`;
        output += `        <h3>What Students Do</h3>\n`;
        output += `        <p>${formData.stage1Description.replace(/\n/g, '</p><p>')}</p>\n\n`;
        output += `        <h3>AI Prohibitions</h3>\n`;
        output += `        <p>${formData.stage1Prohibitions.replace(/\n/g, '</p><p>')}</p>\n\n`;
        output += `        <h3>Why No AI</h3>\n`;
        output += `        <p>${formData.stage1Why.replace(/\n/g, '</p><p>')}</p>\n\n`;
        output += `        <p><strong>Deliverable:</strong> ${formData.stage1Deliverable}</p>\n`;
        output += `    </div>\n\n`;

        output += `    <div class="stage">\n`;
        output += `        <span class="badge">ü§ù Stage 2: AI as Co-Intelligence</span>\n`;
        output += `        <h2>Conceptual Interpretation</h2>\n\n`;
        output += `        <h3>Conceptual Frameworks</h3>\n`;
        output += `        <p>${formData.stage2Frameworks.replace(/\n/g, '</p><p>')}</p>\n\n`;
        output += `        <h3>Argument Type</h3>\n`;
        output += `        <p>${formData.stage2Argument.replace(/\n/g, '</p><p>')}</p>\n\n`;
        output += `        <h3>Productive AI Uses</h3>\n        <ul>\n`;
        formData.stage2ProductiveUses.forEach(use => {
            output += `            <li>${use}</li>\n`;
        });
        if (formData.stage2UseCustom && formData.stage2CustomProductiveUse) {
            output += `            <li>${formData.stage2CustomProductiveUse}</li>\n`;
        }
        output += `        </ul>\n\n`;
        output += `        <h3>Unproductive AI Uses (DO NOT do these)</h3>\n`;
        output += `        <p>${formData.stage2UnproductiveUses.replace(/\n/g, '</p><p>')}</p>\n\n`;
        output += `        <p><strong>Deliverable:</strong> ${formData.stage2Deliverable}</p>\n`;
        output += `    </div>\n\n`;

        output += `    <div class="stage">\n`;
        output += `        <span class="badge">üõ†Ô∏è Stage 3</span>\n`;
        output += `        <h2>Application & Extension</h2>\n\n`;
        const stage3TypeDisplayHtml = formData.stage3Type === 'Other' && formData.stage3CustomType ? formData.stage3CustomType : formData.stage3Type;
        output += `        <p><strong>Type:</strong> ${stage3TypeDisplayHtml}</p>\n\n`;
        output += `        <h3>Description</h3>\n`;
        output += `        <p>${formData.stage3Description.replace(/\n/g, '</p><p>')}</p>\n\n`;
        output += `        <h3>AI Role</h3>\n`;
        output += `        <p>${formData.stage3AIRole.replace(/\n/g, '</p><p>')}</p>\n\n`;
        output += `        <p><strong>Deliverable:</strong> ${formData.stage3Deliverable}</p>\n`;
        output += `    </div>\n\n`;

        if (formData.includeAppendix === 'yes') {
            output += `    <hr>\n\n`;
            output += `    <h2>Co-Intelligence Appendix (Required)</h2>\n`;
            output += `    <p>${formData.appendixPrompt}</p>\n\n`;
        }

        if (formData.includeVisual && formData.visualDescription) {
            output += `    <hr>\n\n`;
            output += `    <h2>Visual Synthesis</h2>\n`;
            output += `    <p>${formData.visualDescription.replace(/\n/g, '</p><p>')}</p>\n\n`;
        }

        output += `</body>\n</html>`;
        return output;
    };

    const getOutput = () => {
        switch (outputFormat) {
            case 'markdown':
                return generateMarkdown();
            case 'html':
                return generateHTML();
            default:
                return generatePlainText();
        }
    };

    const handleCopy = () => {
        navigator.clipboard.writeText(getOutput());
        alert('Copied to clipboard!');
    };

    const handleDownload = () => {
        const output = getOutput();
        const extensions = { plaintext: 'txt', markdown: 'md', html: 'html' };
        const extension = extensions[outputFormat];
        const filename = `staged-ai-assignment.${extension}`;

        const blob = new Blob([output], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        a.click();
        URL.revokeObjectURL(url);
    };

    const handlePrint = () => {
        window.print();
    };

    const handleCopyRichText = async () => {
        try {
            // Get HTML content
            const htmlContent = generateHTML();

            // Extract just the body content for rich text copy
            const bodyMatch = htmlContent.match(/<body>([\s\S]*)<\/body>/);
            const bodyContent = bodyMatch ? bodyMatch[1].trim() : htmlContent;

            // Get plain text fallback
            const plainText = getOutput();

            // Try to copy as rich text using Clipboard API
            if (navigator.clipboard && ClipboardItem) {
                const htmlBlob = new Blob([bodyContent], { type: 'text/html' });
                const textBlob = new Blob([plainText], { type: 'text/plain' });
                const clipboardItem = new ClipboardItem({
                    'text/html': htmlBlob,
                    'text/plain': textBlob
                });
                await navigator.clipboard.write([clipboardItem]);
                alert('Rich text copied! You can now paste into Word/Google Docs with formatting.');
            } else {
                // Fallback to plain text
                await navigator.clipboard.writeText(plainText);
                alert('Copied as plain text (rich text not supported in this browser).');
            }
        } catch (err) {
            console.error('Copy failed:', err);
            // Final fallback
            try {
                await navigator.clipboard.writeText(getOutput());
                alert('Copied as plain text.');
            } catch (fallbackErr) {
                alert('Failed to copy. Please try again or use Copy to Clipboard.');
            }
        }
    };

    const handleDownloadDocx = () => {
        // Get HTML content
        const htmlContent = generateHTML();

        // Extract body content
        const bodyMatch = htmlContent.match(/<body>([\s\S]*)<\/body>/);
        const bodyContent = bodyMatch ? bodyMatch[1].trim() : htmlContent;

        // Create Word document HTML with proper namespace and styling
        const docxHtml = `
            <html xmlns:o='urn:schemas-microsoft-com:office:office'
                  xmlns:w='urn:schemas-microsoft-com:office:word'
                  xmlns='http://www.w3.org/TR/REC-html40'>
            <head>
                <meta charset='utf-8'>
                <title>Staged AI Assignment</title>
                <style>
                    body { font-family: Calibri, sans-serif; font-size: 11pt; line-height: 1.6; }
                    h1 { color: #003366; font-size: 20pt; font-weight: bold; margin-top: 12pt; margin-bottom: 6pt; }
                    h2 { color: #003366; font-size: 16pt; font-weight: bold; margin-top: 10pt; margin-bottom: 6pt; border-bottom: 1pt solid #E5E7EB; }
                    h3 { color: #003366; font-size: 14pt; font-weight: bold; margin-top: 8pt; margin-bottom: 4pt; }
                    p { margin-top: 0pt; margin-bottom: 8pt; }
                    ul, ol { margin-left: 0.5in; }
                    li { margin-bottom: 4pt; }
                    strong { font-weight: bold; color: #003366; }
                    .meta { background-color: #F3F4F6; padding: 12pt; margin-bottom: 12pt; border-left: 4pt solid #003366; }
                    .stage { margin-bottom: 12pt; padding: 12pt; background-color: #FAFAFA; border-left: 4pt solid #003366; }
                </style>
            </head>
            <body>
                ${bodyContent}
            </body>
            </html>
        `;

        // Create blob with proper Word MIME type
        const blob = new Blob(['\ufeff', docxHtml], {
            type: 'application/vnd.ms-word'
        });

        // Generate filename
        const filename = 'staged-assignment.docx';

        // Create download link
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        a.click();
        URL.revokeObjectURL(url);
    };

    const productiveUseOptions = [
        'Stress-testing interpretations by proposing alternative explanations',
        'Surfacing contextual information or knowledge gaps',
        'Checking logical consistency of arguments',
        'Refining clarity of claims',
        'Finding relevant research or precedents',
        'Identifying factors or variables underweighted'
    ];

    return (
        <section id="designer">
            <div className="container">
                <h2>Build Your Assignment</h2>
                <p>
                    Create your own 3-stage assignment with clearly defined AI permissions for each phase.
                    Define your assignment structure and generate student-facing instructions in your preferred format.
                </p>
                <p>
                    This tool walks you through 5 steps. Each step builds on the last. You'll need about 15-20 minutes to complete.
                </p>
                <p style={{fontSize: '0.9rem', color: 'var(--wl-gray)', fontStyle: 'italic', marginTop: '-0.5rem'}}>
                    Fields marked with * are required.
                </p>

                {/* Progress Indicator */}
                <div className="progress-indicator">
                    {[1, 2, 3, 4, 5].map(step => (
                        <div key={step} className={'progress-step ' + (step === currentStep ? 'active' : step < currentStep ? 'completed' : '')}>
                            <div className="progress-number">{step}</div>
                            <div className="progress-label">
                                {step === 1 && 'Foundation'}
                                {step === 2 && 'Stage 1'}
                                {step === 3 && 'Stage 2'}
                                {step === 4 && 'Stage 3'}
                                {step === 5 && 'Review'}
                            </div>
                        </div>
                    ))}
                </div>

                {/* Validation Error Banner */}
                {showValidationError && (
                    <div style={{
                        background: '#FEE2E2',
                        border: '2px solid #DC2626',
                        borderRadius: '8px',
                        padding: '1rem',
                        marginTop: '1.5rem',
                        color: '#991B1B'
                    }}>
                        <strong>‚ö†Ô∏è Please complete all required fields</strong>
                        <p style={{marginTop: '0.5rem', fontSize: '0.9rem'}}>
                            All fields marked with * must be filled out before proceeding to the next step.
                        </p>
                    </div>
                )}

                {/* Step Content */}
                <div className="form-section">
                    {currentStep === 1 && (
                        <div>
                            <div className="form-intro">
                                <h3>Step 1: Assignment Foundation</h3>
                                <p>Let's start with the essential context for your assignment.</p>
                            </div>

                            <div className="form-group">
                                <label htmlFor="discipline">What discipline or course is this for? *</label>
                                <input
                                    id="discipline"
                                    type="text"
                                    className={missingFields.includes('discipline') ? 'validation-error' : ''}
                                    value={formData.discipline}
                                    onChange={(e) => updateField('discipline', e.target.value)}
                                    placeholder="e.g., Biology 201: Ecology, English 150: Composition"
                                />
                                <div className="help-text">Include both the discipline and course level</div>
                            </div>

                            <div className="form-group">
                                <label htmlFor="question">What's the central question, problem, or creative challenge? *</label>
                                <textarea
                                    id="question"
                                    className={missingFields.includes('question') ? 'validation-error' : ''}
                                    value={formData.question}
                                    onChange={(e) => updateField('question', e.target.value)}
                                    placeholder="e.g., How do invasive species affect local ecosystems?"
                                />
                                <div className="help-text">Capture the core intellectual or creative work of the assignment</div>
                            </div>

                            <div className="form-group">
                                <label htmlFor="deliverable">What's the primary thing students will create? *</label>
                                <input
                                    id="deliverable"
                                    type="text"
                                    className={missingFields.includes('deliverable') ? 'validation-error' : ''}
                                    value={formData.deliverable}
                                    onChange={(e) => updateField('deliverable', e.target.value)}
                                    placeholder="e.g., Research paper, case study, creative work"
                                />
                            </div>

                            <div className="form-group">
                                <label htmlFor="duration">How many weeks do students have? *</label>
                                <select
                                    id="duration"
                                    className={missingFields.includes('duration') ? 'validation-error' : ''}
                                    value={formData.duration}
                                    onChange={(e) => updateField('duration', e.target.value)}
                                >
                                    <option value="">Select duration...</option>
                                    <option value="1 week">1 week</option>
                                    <option value="2 weeks">2 weeks</option>
                                    <option value="3-4 weeks">3-4 weeks</option>
                                    <option value="5-6 weeks">5-6 weeks</option>
                                    <option value="Full semester">Full semester</option>
                                </select>
                            </div>
                        </div>
                    )}

                    {currentStep === 2 && (
                        <div>
                            <div className="form-intro">
                                <h3>Step 2: Stage 1 - Primary Experience</h3>
                                <p>Define the authentic <em>primary engagement</em> that cannot use AI.</p>
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage1Description">What will students do in Stage 1? Be specific about the concrete actions they'll take. *</label>
                                <textarea
                                    id="stage1Description"
                                    className={missingFields.includes('stage1Description') ? 'validation-error' : ''}
                                    value={formData.stage1Description}
                                    onChange={(e) => updateField('stage1Description', e.target.value)}
                                    placeholder="e.g., Students will conduct 4-6 observation sessions at a local ecosystem site..."
                                />
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage1Prohibitions">What must come from the student's own experience? *</label>
                                <textarea
                                    id="stage1Prohibitions"
                                    className={missingFields.includes('stage1Prohibitions') ? 'validation-error' : ''}
                                    value={formData.stage1Prohibitions}
                                    onChange={(e) => updateField('stage1Prohibitions', e.target.value)}
                                    placeholder="e.g., All field observations must be directly witnessed. AI cannot reconstruct missing data..."
                                />
                                <div className="help-text">Be specific about what AI might tempt students to do, and why those uses would undermine learning</div>
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage1Why">Why is it important students can't use AI here? *</label>
                                <textarea
                                    id="stage1Why"
                                    className={missingFields.includes('stage1Why') ? 'validation-error' : ''}
                                    value={formData.stage1Why}
                                    onChange={(e) => updateField('stage1Why', e.target.value)}
                                    placeholder="e.g., Authentic observation skills require distinguishing between what you saw versus what you assume..."
                                />
                                <div className="help-text">This becomes the pedagogical reasoning</div>
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage1Deliverable">What will students deliver for Stage 1? *</label>
                                <input
                                    id="stage1Deliverable"
                                    type="text"
                                    className={missingFields.includes('stage1Deliverable') ? 'validation-error' : ''}
                                    value={formData.stage1Deliverable}
                                    onChange={(e) => updateField('stage1Deliverable', e.target.value)}
                                    placeholder="e.g., Field journal with dated entries and photos (3-4 double-spaced pages, approximately 900-1200 words)"
                                />
                            </div>
                        </div>
                    )}

                    {currentStep === 3 && (
                        <div>
                            <div className="form-intro">
                                <h3>Step 3: Stage 2 - Conceptual Framework</h3>
                                <p>Define how students will interpret their primary work with AI support.</p>
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage2Frameworks">What conceptual tools or frameworks will students use? *</label>
                                <textarea
                                    id="stage2Frameworks"
                                    className={missingFields.includes('stage2Frameworks') ? 'validation-error' : ''}
                                    value={formData.stage2Frameworks}
                                    onChange={(e) => updateField('stage2Frameworks', e.target.value)}
                                    placeholder="e.g., Students will apply ecological concepts like succession, trophic cascades..."
                                />
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage2Argument">What kind of argument or interpretation are students building? *</label>
                                <textarea
                                    id="stage2Argument"
                                    className={missingFields.includes('stage2Argument') ? 'validation-error' : ''}
                                    value={formData.stage2Argument}
                                    onChange={(e) => updateField('stage2Argument', e.target.value)}
                                    placeholder="e.g., Students must explain WHY the ecosystem behaves as it does..."
                                />
                            </div>

                            <div className="form-group">
                                <label>How can AI help students strengthen their analysis? *</label>
                                <div className={'checkbox-group' + (missingFields.includes('stage2ProductiveUses') ? ' validation-error' : '')}>
                                    {productiveUseOptions.map((use, index) => (
                                        <div key={index} className="checkbox-item">
                                            <input
                                                type="checkbox"
                                                id={`use-${index}`}
                                                checked={formData.stage2ProductiveUses.includes(use)}
                                                onChange={() => toggleProductiveUse(use)}
                                            />
                                            <label htmlFor={`use-${index}`}>{use}</label>
                                        </div>
                                    ))}
                                    <div className="checkbox-item">
                                        <input
                                            type="checkbox"
                                            id="use-custom"
                                            checked={formData.stage2UseCustom}
                                            onChange={(e) => {
                                                updateField('stage2UseCustom', e.target.checked);
                                                if (!e.target.checked) {
                                                    updateField('stage2CustomProductiveUse', '');
                                                }
                                            }}
                                        />
                                        <label htmlFor="use-custom">Other (specify below)</label>
                                    </div>
                                </div>
                                {formData.stage2UseCustom && (
                                    <div className="form-group" style={{marginTop: '1rem'}}>
                                        <input
                                            type="text"
                                            id="customProductiveUse"
                                            value={formData.stage2CustomProductiveUse}
                                            onChange={(e) => updateField('stage2CustomProductiveUse', e.target.value)}
                                            placeholder="Describe how AI can help..."
                                        />
                                    </div>
                                )}
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage2UnproductiveUses">What should students NOT use AI for? *</label>
                                <textarea
                                    id="stage2UnproductiveUses"
                                    className={missingFields.includes('stage2UnproductiveUses') ? 'validation-error' : ''}
                                    value={formData.stage2UnproductiveUses}
                                    onChange={(e) => updateField('stage2UnproductiveUses', e.target.value)}
                                    placeholder="e.g., Generating the analysis from their Stage 1 work, selecting which concepts apply..."
                                />
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage2Deliverable">What will students deliver for Stage 2? *</label>
                                <input
                                    id="stage2Deliverable"
                                    type="text"
                                    className={missingFields.includes('stage2Deliverable') ? 'validation-error' : ''}
                                    value={formData.stage2Deliverable}
                                    onChange={(e) => updateField('stage2Deliverable', e.target.value)}
                                    placeholder="e.g., 3-4 double-spaced pages of analytical writing, approximately 900-1200 words"
                                />
                            </div>
                        </div>
                    )}

                    {currentStep === 4 && (
                        <div>
                            <div className="form-intro">
                                <h3>Step 4: Stage 3 - Application or Extension</h3>
                                <p>Define how students will apply or extend their insights.</p>
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage3Type">What type of application or extension? *</label>
                                <select
                                    id="stage3Type"
                                    className={missingFields.includes('stage3Type') ? 'validation-error' : ''}
                                    value={formData.stage3Type}
                                    onChange={(e) => updateField('stage3Type', e.target.value)}
                                >
                                    <option value="">Select type...</option>
                                    <option value="Future recommendations or design proposals">Future recommendations or design proposals</option>
                                    <option value="Contemporary connections or cultural relevance">Contemporary connections or cultural relevance</option>
                                    <option value="Teaching implications or public communication">Teaching implications or public communication</option>
                                    <option value="Creative extension or iteration">Creative extension or iteration</option>
                                    <option value="Implementation plan or prototype">Implementation plan or prototype</option>
                                    <option value="Other">Other (specify below)</option>
                                </select>
                            </div>

                            {formData.stage3Type === 'Other' && (
                                <div className="form-group">
                                    <label htmlFor="stage3CustomType">Specify the type of application or extension *</label>
                                    <input
                                        id="stage3CustomType"
                                        type="text"
                                        className={missingFields.includes('stage3Type') ? 'validation-error' : ''}
                                        value={formData.stage3CustomType}
                                        onChange={(e) => updateField('stage3CustomType', e.target.value)}
                                        placeholder="e.g., Comparative analysis across cases..."
                                    />
                                </div>
                            )}

                            <div className="form-group">
                                <label htmlFor="stage3Description">Describe what students will do in Stage 3 *</label>
                                <textarea
                                    id="stage3Description"
                                    className={missingFields.includes('stage3Description') ? 'validation-error' : ''}
                                    value={formData.stage3Description}
                                    onChange={(e) => updateField('stage3Description', e.target.value)}
                                    placeholder="e.g., Students propose evidence-based interventions for enhancing ecosystem health..."
                                />
                            </div>

                            <div className="form-group">
                                <label>How will AI function in this stage? *</label>
                                <div className={'radio-group' + (missingFields.includes('stage3AIRole') ? ' validation-error' : '')}>
                                    <div className="radio-item">
                                        <input
                                            type="radio"
                                            id="ai-cointel"
                                            name="aiRole"
                                            value="AI remains as co-intelligence"
                                            checked={formData.stage3AIRole === 'AI remains as co-intelligence'}
                                            onChange={(e) => updateField('stage3AIRole', e.target.value)}
                                        />
                                        <label htmlFor="ai-cointel">AI remains as co-intelligence (helping refine thinking)</label>
                                    </div>
                                    <div className="radio-item">
                                        <input
                                            type="radio"
                                            id="ai-tool"
                                            name="aiRole"
                                            value="AI becomes a required tool"
                                            checked={formData.stage3AIRole === 'AI becomes a required tool'}
                                            onChange={(e) => updateField('stage3AIRole', e.target.value)}
                                        />
                                        <label htmlFor="ai-tool">AI becomes a required tool (for visualization, design, or communication)</label>
                                    </div>
                                    <div className="radio-item">
                                        <input
                                            type="radio"
                                            id="ai-choice"
                                            name="aiRole"
                                            value="Students choose whether to use AI"
                                            checked={formData.stage3AIRole === 'Students choose whether to use AI'}
                                            onChange={(e) => updateField('stage3AIRole', e.target.value)}
                                        />
                                        <label htmlFor="ai-choice">Students choose whether to use AI</label>
                                    </div>
                                </div>
                            </div>

                            <div className="form-group">
                                <label htmlFor="stage3Deliverable">What will students deliver for Stage 3? *</label>
                                <input
                                    id="stage3Deliverable"
                                    type="text"
                                    className={missingFields.includes('stage3Deliverable') ? 'validation-error' : ''}
                                    value={formData.stage3Deliverable}
                                    onChange={(e) => updateField('stage3Deliverable', e.target.value)}
                                    placeholder="e.g., 1-2 double-spaced pages of management recommendations, approximately 300-600 words"
                                />
                            </div>
                        </div>
                    )}

                    {currentStep === 5 && (
                        <div>
                            <div className="form-intro">
                                <h3>Step 5: Metacognitive Component & Visual Synthesis</h3>
                                <p>Optional elements to help students reflect on AI use and communicate their work.</p>
                            </div>

                            <div className="form-group">
                                <label>Will you include a Co-Intelligence Appendix?</label>
                                <div className="radio-group">
                                    <div className="radio-item">
                                        <input
                                            type="radio"
                                            id="appendix-yes"
                                            name="appendix"
                                            value="yes"
                                            checked={formData.includeAppendix === 'yes'}
                                            onChange={(e) => updateField('includeAppendix', e.target.value)}
                                        />
                                        <label htmlFor="appendix-yes">Yes, required (recommended)</label>
                                    </div>
                                    <div className="radio-item">
                                        <input
                                            type="radio"
                                            id="appendix-optional"
                                            name="appendix"
                                            value="optional"
                                            checked={formData.includeAppendix === 'optional'}
                                            onChange={(e) => updateField('includeAppendix', e.target.value)}
                                        />
                                        <label htmlFor="appendix-optional">Yes, optional</label>
                                    </div>
                                    <div className="radio-item">
                                        <input
                                            type="radio"
                                            id="appendix-no"
                                            name="appendix"
                                            value="no"
                                            checked={formData.includeAppendix === 'no'}
                                            onChange={(e) => updateField('includeAppendix', e.target.value)}
                                        />
                                        <label htmlFor="appendix-no">No</label>
                                    </div>
                                </div>
                            </div>

                            {formData.includeAppendix !== 'no' && (
                                <div className="form-group">
                                    <label htmlFor="appendixPrompt">Appendix prompt (you can edit this)</label>
                                    <textarea
                                        id="appendixPrompt"
                                        value={formData.appendixPrompt}
                                        onChange={(e) => updateField('appendixPrompt', e.target.value)}
                                    />
                                </div>
                            )}

                            <div className="form-group">
                                <label htmlFor="includeVisual">Will students create a visual synthesis?</label>
                                <select
                                    id="includeVisual"
                                    value={formData.includeVisual}
                                    onChange={(e) => updateField('includeVisual', e.target.value)}
                                >
                                    <option value="">Select...</option>
                                    <option value="yes-ai">Yes, using AI tools</option>
                                    <option value="yes-no-ai">Yes, without AI</option>
                                    <option value="no">No visual component</option>
                                </select>
                            </div>

                            {formData.includeVisual && formData.includeVisual !== 'no' && (
                                <div className="form-group">
                                    <label htmlFor="visualDescription">What should the visual communicate?</label>
                                    <textarea
                                        id="visualDescription"
                                        value={formData.visualDescription}
                                        onChange={(e) => updateField('visualDescription', e.target.value)}
                                        placeholder="e.g., An infographic showing the ecosystem's key relationships..."
                                    />
                                </div>
                            )}

                            <div className="form-group">
                                <label htmlFor="format">Output Format</label>
                                <select
                                    id="format"
                                    value={outputFormat}
                                    onChange={(e) => setOutputFormat(e.target.value)}
                                >
                                    <option value="plaintext">Plain Text</option>
                                    <option value="markdown">Markdown</option>
                                    <option value="html">HTML</option>
                                </select>
                            </div>
                        </div>
                    )}

                    {/* Navigation Buttons */}
                    <div className="form-navigation">
                        <div>
                            {currentStep > 1 && (
                                <button className="secondary" onClick={prevStep}>
                                    ‚Üê Previous
                                </button>
                            )}
                        </div>
                        <div>
                            {currentStep < 5 ? (
                                <button onClick={nextStep}>
                                    Next ‚Üí
                                </button>
                            ) : (
                                <button onClick={handleGenerate}>
                                    Generate Assignment Instructions
                                </button>
                            )}
                        </div>
                    </div>
                </div>

                {/* Output Section */}
                {showOutput && (
                    <div className="output-section" ref={outputRef}>
                        <h3>Your Generated Assignment</h3>

                        <div className="output-tabs">
                            <button
                                className={'output-tab ' + (outputFormat === 'plaintext' ? 'active' : '')}
                                onClick={() => setOutputFormat('plaintext')}
                            >
                                Plain Text
                            </button>
                            <button
                                className={'output-tab ' + (outputFormat === 'markdown' ? 'active' : '')}
                                onClick={() => setOutputFormat('markdown')}
                            >
                                Markdown
                            </button>
                            <button
                                className={'output-tab ' + (outputFormat === 'html' ? 'active' : '')}
                                onClick={() => setOutputFormat('html')}
                            >
                                HTML
                            </button>
                        </div>

                        <div className="output-content">
                            {getOutput()}
                        </div>

                        <div className="output-actions">
                            <button onClick={handleCopy}>
                                Copy to Clipboard
                            </button>
                            <button className="secondary" onClick={handleCopyRichText}>
                                Copy Rich Text
                            </button>
                            <button className="secondary" onClick={handleDownload}>
                                Download File
                            </button>
                            <button className="secondary" onClick={handleDownloadDocx}>
                                Download as Word (.docx)
                            </button>
                            <button className="secondary" onClick={handlePrint}>
                                Print / Save as PDF
                            </button>
                        </div>
                    </div>
                )}
            </div>
        </section>
    );
}

// ============================================================================
// UTILITY BUTTONS (THEME, SHARE, PRINT)
// ============================================================================

function UtilityButtons() {
    const [theme, setTheme] = useState('light');
    const [handwritingFont, setHandwritingFont] = useState('architects');

    const toggleTheme = () => {
        const newTheme = theme === 'light' ? 'dark' : 'light';
        setTheme(newTheme);
        document.documentElement.setAttribute('data-theme', newTheme);
    };

    const toggleFont = () => {
        const newFont = handwritingFont === 'architects' ? 'reenie' : 'architects';
        setHandwritingFont(newFont);
        document.documentElement.setAttribute('data-handwriting', newFont);
    };

    const handleShare = async () => {
        if (navigator.share) {
            try {
                await navigator.share({
                    title: 'Teaching with AI Boundaries',
                    text: 'A Framework for Meaningful Learning',
                    url: window.location.href
                });
            } catch (err) {
                if (err.name !== 'AbortError') {
                    console.log('Share failed:', err);
                    // Fallback: copy URL to clipboard
                    navigator.clipboard.writeText(window.location.href);
                    alert('Link copied to clipboard!');
                }
            }
        } else {
            // Fallback: copy URL to clipboard
            navigator.clipboard.writeText(window.location.href);
            alert('Link copied to clipboard!');
        }
    };

    const handlePrint = () => {
        window.print();
    };

    return (
        <div className="utility-buttons">
            <button
                className="utility-btn"
                onClick={toggleTheme}
                title={theme === 'light' ? 'Switch to dark mode' : 'Switch to light mode'}
                aria-label={theme === 'light' ? 'Switch to dark mode' : 'Switch to light mode'}
            >
                {theme === 'light' ? 'üåô' : '‚òÄÔ∏è'}
            </button>
            <button
                className="utility-btn"
                onClick={toggleFont}
                title={handwritingFont === 'architects' ? 'Switch to Reenie Beanie font' : 'Switch to Architects Daughter font'}
                aria-label="Toggle handwriting font"
            >
                ‚úçÔ∏è
            </button>
            <button
                className="utility-btn"
                onClick={handleShare}
                title="Share this page"
                aria-label="Share this page"
            >
                üîó
            </button>
            <button
                className="utility-btn"
                onClick={handlePrint}
                title="Print to PDF"
                aria-label="Print to PDF"
            >
                üñ®Ô∏è
            </button>
        </div>
    );
}

// ============================================================================
// MAIN APP COMPONENT
// ============================================================================

function App() {
    return (
        <div>
            <UtilityButtons />
            <Header />
            <Hero />
            <ThreeStagePattern />
            <JeffSchattenCase />
            <DisciplinaryExamples />
            <AssignmentDesigner />
            <ResourceLibrary />
            <Footer />
        </div>
    );
}

// ============================================================================
// RENDER APP
// ============================================================================

ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
